"use strict";(self.webpackChunkmatters_web=self.webpackChunkmatters_web||[]).push([[6355],{"./src/common/utils/form/validate.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{kQ:()=>validateCollectionTitle,tZ:()=>validateDisplayName});var enums=__webpack_require__("./src/common/enums/index.ts"),hardcode_RESERVED_NAMES=["matters","matty","馬特市官方","马特市官方","張潔平","张洁平"],REGEXP_ALL_PUNCTUATIONS=new RegExp("^[".concat("。？！，、；：“”‘’（）《》〈〉【】『』「」﹃﹄〔〕…—～﹏￥").concat("\0-/:-@[-`z-","]*$")),validateCollectionTitle=function validateCollectionTitle(value,intl){return value?value.length<enums.vH||value.length>enums.Mc?intl.formatMessage({defaultMessage:"Must be between {MIN_COLLECTION_TITLE_LENGTH}-{MAX_COLLECTION_TITLE_LENGTH} characters long.",id:"El+nq2"},{MAX_COLLECTION_TITLE_LENGTH:enums.Mc,MIN_COLLECTION_TITLE_LENGTH:enums.vH}):void 0:intl.formatMessage({defaultMessage:"Required",id:"Seanpx"})},validateDisplayName=function validateDisplayName(value,intl,isAdmin){if(!value)return intl.formatMessage({defaultMessage:"Required",id:"Seanpx"});if(value.length<enums.Fm)return intl.formatMessage({defaultMessage:"Must be between {MIN_USER_DISPLAY_NAME_LENGTH}-{MAX_USER_DISPLAY_NAME_LENGTH} characters long.",id:"ruZqtT"},{MIN_USER_DISPLAY_NAME_LENGTH:enums.Fm,MAX_USER_DISPLAY_NAME_LENGTH:enums.cW});if(value.length>enums.cW)return intl.formatMessage({defaultMessage:"Must be between {MIN_USER_DISPLAY_NAME_LENGTH}-{MAX_USER_DISPLAY_NAME_LENGTH} characters long.",id:"ruZqtT"},{MIN_USER_DISPLAY_NAME_LENGTH:enums.Fm,MAX_USER_DISPLAY_NAME_LENGTH:enums.cW});var invalidNameIndex=hardcode_RESERVED_NAMES.indexOf(value.toLowerCase());return invalidNameIndex>=0&&!isAdmin?intl.formatMessage({defaultMessage:'"{name}" is invalid.',id:"i4OBEw"},{name:hardcode_RESERVED_NAMES[invalidNameIndex]}):REGEXP_ALL_PUNCTUATIONS.test(value)?intl.formatMessage({defaultMessage:"Not support using punctuation marks alone.",id:"yubNcI"}):void 0}},"./src/components/Dialogs/EditProfileDialog/Content.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>EditProfileDialog_Content});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),formik_esm=__webpack_require__("./node_modules/formik/dist/formik.esm.js"),lib=__webpack_require__("./node_modules/graphql-tag/lib/index.js"),pickBy=__webpack_require__("./node_modules/lodash/pickBy.js"),pickBy_default=__webpack_require__.n(pickBy),react=__webpack_require__("./node_modules/react/index.js"),useIntl=__webpack_require__("./node_modules/react-intl/lib/src/components/useIntl.js"),message=__webpack_require__("./node_modules/react-intl/lib/src/components/message.js"),profile_cover=__webpack_require__("./public/static/images/profile-cover.png"),enums=__webpack_require__("./src/common/enums/index.ts"),errorCode=__webpack_require__("./src/common/enums/errorCode.ts"),file=__webpack_require__("./src/common/enums/file.ts"),form_validate=__webpack_require__("./src/common/utils/form/validate.ts"),GQL_error=__webpack_require__("./src/components/GQL/error.tsx"),parseFormSubmitErrors=function parseFormSubmitErrors(error){var codes=(0,GQL_error.UX)(error),messages={};return codes.forEach((function(code){messages[code]=errorCode.R[code]})),[messages,codes]},hooks=__webpack_require__("./src/components/GQL/hooks.ts"),Viewer=__webpack_require__("./src/components/Context/Viewer/index.tsx"),Toast=__webpack_require__("./src/components/Toast/index.tsx"),Form=__webpack_require__("./src/components/Form/index.tsx"),CoverUploader=__webpack_require__("./src/components/FileUploader/CoverUploader/index.tsx"),AvatarUploader=__webpack_require__("./src/components/FileUploader/AvatarUploader/index.tsx"),Dialog=__webpack_require__("./src/components/Dialog/index.tsx"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),styles_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[16].use[2]!./src/components/Dialogs/EditProfileDialog/styles.module.css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(styles_module.Z,options);const EditProfileDialog_styles_module=styles_module.Z&&styles_module.Z.locals?styles_module.Z.locals:void 0;var _templateObject,__jsx=react.createElement;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var UPDATE_USER_INFO=(0,lib.ZP)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n  mutation UpdateUserInfoProfile($input: UpdateUserInfoInput!) {\n    updateUserInfo(input: $input) {\n      id\n      avatar\n      displayName\n      info {\n        profileCover\n        description\n      }\n    }\n  }\n"])));const EditProfileDialog_Content=function EditProfileDialogContent(_ref){var _onSubmit,user=_ref.user,closeDialog=_ref.closeDialog,_useMutation=(0,hooks.Db)(UPDATE_USER_INFO,void 0,{showToast:!1}),update=(0,slicedToArray.Z)(_useMutation,1)[0],viewer=(0,react.useContext)(Viewer.Zd),intl=(0,useIntl.Z)(),validateDescription=function validateDescription(value){if(value.length>enums.AG)return intl.formatMessage({defaultMessage:"Over 140 words, current {numbers}",id:"DUoV1W",description:"src/components/Dialogs/EditProfileDialog/Content.tsx"},{numbers:value.length})},_useFormik=(0,formik_esm.useFormik)({initialValues:{avatar:"UNCHANGED_FIELD",profileCover:"UNCHANGED_FIELD",displayName:user.displayName||"",description:user.info.description||""},validateOnBlur:!1,validateOnChange:!1,validate:function validate(_ref2){var displayName=_ref2.displayName,description=_ref2.description;return pickBy_default()({displayName:(0,form_validate.tZ)(displayName,intl,viewer.isAdmin),description:validateDescription(description)})},onSubmit:(_onSubmit=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(_ref3,_ref4){var avatar,profileCover,displayName,description,setSubmitting,setFieldError,_parseFormSubmitError,_parseFormSubmitError2,messages;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return avatar=_ref3.avatar,profileCover=_ref3.profileCover,displayName=_ref3.displayName,description=_ref3.description,setSubmitting=_ref4.setSubmitting,setFieldError=_ref4.setFieldError,_context.prev=2,_context.next=5,update({variables:{input:_objectSpread(_objectSpread(_objectSpread({},"UNCHANGED_FIELD"!==avatar?{avatar}:{}),"UNCHANGED_FIELD"!==profileCover?{profileCover}:{}),{},{displayName,description})}});case 5:Toast.A.success({message:__jsx(message.Z,{defaultMessage:"Saved",id:"fsB/4p"})}),setSubmitting(!1),closeDialog(),_context.next=15;break;case 10:_context.prev=10,_context.t0=_context.catch(2),setSubmitting(!1),_parseFormSubmitError=parseFormSubmitErrors(_context.t0),_parseFormSubmitError2=(0,slicedToArray.Z)(_parseFormSubmitError,2),messages=_parseFormSubmitError2[0],_parseFormSubmitError2[1].forEach((function(code){code===errorCode.O.DISPLAYNAME_INVALID?setFieldError("displayName",intl.formatMessage({defaultMessage:"Must be between 2-20 characters long. Chinese characters, letters, numbers and underscores are allowed.",id:"E8W3qa"})):setFieldError("description",intl.formatMessage(messages[code]))}));case 15:case"end":return _context.stop()}}),_callee,null,[[2,10]])}))),function onSubmit(_x,_x2){return _onSubmit.apply(this,arguments)})}),values=_useFormik.values,errors=_useFormik.errors,touched=_useFormik.touched,handleBlur=_useFormik.handleBlur,handleChange=_useFormik.handleChange,handleSubmit=_useFormik.handleSubmit,isSubmitting=_useFormik.isSubmitting,setFieldValue=_useFormik.setFieldValue,_useState=(0,react.useState)(!1),avatarLoading=_useState[0],setAvatarLoading=_useState[1],_useState2=(0,react.useState)(!1),coverLoading=_useState2[0],setCoverLoading=_useState2[1],InnerForm=__jsx(Form.l,{id:"edit-profile-form",onSubmit:handleSubmit},__jsx("section",{className:EditProfileDialog_styles_module.coverField},__jsx(CoverUploader.D,{assetType:file.tP.profileCover,cover:user.info.profileCover,fallbackCover:profile_cover.Z.src,entityType:file.lU.user,type:"userProfile",inEditor:!0,onUploaded:function onUploaded(assetId){return setFieldValue("profileCover",assetId)},onUploadStart:function onUploadStart(){return setCoverLoading(!0)},onUploadEnd:function onUploadEnd(){return setCoverLoading(!1)}})),__jsx("section",{className:EditProfileDialog_styles_module.avatarField},__jsx(AvatarUploader.C,{user,onUploaded:function onUploaded(assetId){return setFieldValue("avatar",assetId)},onUploadStart:function onUploadStart(){return setAvatarLoading(!0)},onUploadEnd:function onUploadEnd(){return setAvatarLoading(!1)},hasBorder:!0})),__jsx(Form.l.Input,{type:"text",name:"displayName",required:!0,placeholder:intl.formatMessage({defaultMessage:"Name",id:"HAlOn1"}),value:values.displayName,hint:"".concat(values.displayName.length,"/").concat(enums.cW),error:touched.displayName&&errors.displayName,hintAlign:touched.displayName&&errors.displayName?"left":"right",onBlur:handleBlur,onChange:handleChange,maxLength:enums.cW,spacingTop:"base",spacingBottom:"base"}),__jsx(Form.l.Textarea,{name:"description",placeholder:intl.formatMessage({defaultMessage:"Bio",id:"2W0f9h"}),maxLength:enums.AG,value:values.description,hint:"".concat(values.description.length,"/").concat(enums.AG),error:touched.description&&errors.description,hintAlign:touched.description&&errors.description?"left":"right",onBlur:handleBlur,onChange:handleChange})),SubmitButton=__jsx(Dialog.V.TextButton,{type:"submit",form:"edit-profile-form",disabled:isSubmitting||coverLoading||avatarLoading,text:__jsx(message.Z,{defaultMessage:"Confirm",id:"N2IrpM"}),loading:isSubmitting||coverLoading||avatarLoading});return __jsx(react.Fragment,null,__jsx(Dialog.V.Header,{title:__jsx(message.Z,{defaultMessage:"Edit profile",id:"nYrKWp"}),closeDialog,rightBtn:SubmitButton,hasSmUpTitle:!1}),__jsx(Dialog.V.Content,{noMaxHeight:!0},InnerForm),__jsx(Dialog.V.Footer,{smUpBtns:__jsx(react.Fragment,null,__jsx(Dialog.V.TextButton,{text:__jsx(message.Z,{defaultMessage:"Cancel",id:"47FYwb"}),color:"greyDarker",onClick:closeDialog}),SubmitButton)}))};try{Content.displayName="Content",Content.__docgenInfo={description:"",displayName:"Content",props:{user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"EditProfileDialogUserPublicFragment"}},closeDialog:{defaultValue:null,description:"",name:"closeDialog",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Dialogs/EditProfileDialog/Content.tsx#Content"]={docgenInfo:Content.__docgenInfo,name:"Content",path:"src/components/Dialogs/EditProfileDialog/Content.tsx#Content"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/FileUploader/AvatarUploader/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>AvatarUploader});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),reach_visually_hidden=__webpack_require__("./node_modules/@reach/visually-hidden/dist/reach-visually-hidden.mjs"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),omit=__webpack_require__("./node_modules/lodash/omit.js"),omit_default=__webpack_require__.n(omit),useIntl=__webpack_require__("./node_modules/react-intl/lib/src/components/useIntl.js"),message=__webpack_require__("./node_modules/react-intl/lib/src/components/message.js"),camera=__webpack_require__("./public/static/icons/24px/camera.svg"),enums_file=__webpack_require__("./src/common/enums/file.ts"),form_image=__webpack_require__("./src/common/utils/form/image.tsx"),hooks=__webpack_require__("./src/components/GQL/hooks.ts"),useDirectImageUpload=__webpack_require__("./src/components/Hook/useDirectImageUpload.tsx"),Toast=__webpack_require__("./src/components/Toast/index.tsx"),Avatar=__webpack_require__("./src/components/Avatar/index.tsx"),CircleAvatar=__webpack_require__("./src/components/CircleAvatar/index.tsx"),Spinner=__webpack_require__("./src/components/Spinner/index.tsx"),Icon=__webpack_require__("./src/components/Icon/index.tsx"),uploadFile=__webpack_require__("./src/components/GQL/mutations/uploadFile.ts"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),styles_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[16].use[2]!./src/components/FileUploader/AvatarUploader/styles.module.css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(styles_module.Z,options);const AvatarUploader_styles_module=styles_module.Z&&styles_module.Z.locals?styles_module.Z.locals:void 0;var console=__webpack_require__("./node_modules/console-browserify/index.js"),_excluded=["onUploaded","onUploadStart","onUploadEnd","hasBorder","type","entityId"],__jsx=react.createElement;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var AvatarUploader=function AvatarUploader(_ref){var onUploaded=_ref.onUploaded,onUploadStart=_ref.onUploadStart,onUploadEnd=_ref.onUploadEnd,hasBorder=_ref.hasBorder,type=_ref.type,entityId=_ref.entityId,avatarProps=(0,objectWithoutProperties.Z)(_ref,_excluded),intl=(0,useIntl.Z)(),_useMutation=(0,hooks.Db)(uploadFile.T,void 0,{showToast:!1}),_useMutation2=(0,slicedToArray.Z)(_useMutation,2),upload=_useMutation2[0],loading=_useMutation2[1].loading,_useMutation3=(0,hooks.Db)(uploadFile.zA,void 0,{showToast:!1}),directImageUploadDone=(0,slicedToArray.Z)(_useMutation3,1)[0],_useDirectImageUpload=(0,useDirectImageUpload.w)(),uploadImage=_useDirectImageUpload.upload,uploading=_useDirectImageUpload.uploading,_useState=(0,react.useState)(avatarProps.src),avatar=_useState[0],setAvatar=_useState[1],acceptTypes=enums_file.oo.join(","),handleChange=function(){var _ref2=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(event){var file,mime,variables,_yield$upload,data,_ref3,_assetId,path,uploadURL;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(event.stopPropagation(),upload&&event.target&&event.target.files){_context.next=3;break}return _context.abrupt("return");case 3:return file=event.target.files[0],event.target.value="",_context.next=7,(0,form_image.a)(file,!0);case 7:if(mime=_context.sent){_context.next=10;break}return _context.abrupt("return");case 10:return _context.prev=10,onUploadStart&&onUploadStart(),variables={input:{file,type:isCircle?enums_file.tP.circleAvatar:enums_file.tP.avatar,entityType:isCircle?enums_file.lU.circle:enums_file.lU.user,entityId,mime}},_context.next=15,upload({variables:omit_default()(variables,["input.file"])});case 15:if(_yield$upload=_context.sent,data=_yield$upload.data,_ref3=(null==data?void 0:data.directImageUpload)||{},_assetId=_ref3.id,path=_ref3.path,uploadURL=_ref3.uploadURL,!(_assetId&&path&&uploadURL)){_context.next=26;break}return _context.next=21,uploadImage({uploadURL,file});case 21:directImageUploadDone({variables:_objectSpread(_objectSpread({},omit_default()(variables.input,["file"])),{},{draft:!1,url:path})}).catch(console.error),setAvatar(path),onUploaded(_assetId),_context.next=27;break;case 26:throw new Error;case 27:_context.next=32;break;case 29:_context.prev=29,_context.t0=_context.catch(10),Toast.A.error({message:__jsx(message.Z,{defaultMessage:"Failed to upload, please try again.",id:"qfi4cg"})});case 32:onUploadEnd&&onUploadEnd();case 33:case"end":return _context.stop()}}),_callee,null,[[10,29]])})));return function handleChange(_x){return _ref2.apply(this,arguments)}}(),isCircle="circle"===type,labelClasses=classnames_default()((0,defineProperty.Z)((0,defineProperty.Z)((0,defineProperty.Z)({},AvatarUploader_styles_module.label,!0),AvatarUploader_styles_module.hasBorder,hasBorder),AvatarUploader_styles_module.circle,isCircle));return __jsx("label",{className:labelClasses,htmlFor:"avatar-upload-form"},!isCircle&&__jsx(Avatar.q,(0,esm_extends.Z)({size:72},avatarProps,{src:avatar})),isCircle&&__jsx(CircleAvatar.b,(0,esm_extends.Z)({size:72},avatarProps,{src:avatar})),__jsx("div",{className:AvatarUploader_styles_module.mask},loading||uploading?__jsx(Spinner.B,null):__jsx(Icon.J,{icon:camera.r,color:"white",size:32})),__jsx(reach_visually_hidden.T,null,__jsx("input",{id:"avatar-upload-form",type:"file",name:"file","aria-label":intl.formatMessage({defaultMessage:"Upload avatar",id:"mqa6CF"}),accept:acceptTypes,multiple:!1,onChange:handleChange})))};AvatarUploader.displayName="AvatarUploader";try{AvatarUploader.displayName="AvatarUploader",AvatarUploader.__docgenInfo={description:"",displayName:"AvatarUploader",props:{onUploaded:{defaultValue:null,description:"",name:"onUploaded",required:!0,type:{name:"(assetId: string) => void"}},onUploadStart:{defaultValue:null,description:"",name:"onUploadStart",required:!0,type:{name:"() => void"}},onUploadEnd:{defaultValue:null,description:"",name:"onUploadEnd",required:!0,type:{name:"() => void"}},hasBorder:{defaultValue:null,description:"",name:"hasBorder",required:!1,type:{name:"boolean"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"circle"'}]}},entityId:{defaultValue:null,description:"",name:"entityId",required:!1,type:{name:"string"}},user:{defaultValue:null,description:"",name:"user",required:!1,type:{name:"any"}},src:{defaultValue:null,description:"",name:"src",required:!1,type:{name:"string | null"}},inEditor:{defaultValue:null,description:"",name:"inEditor",required:!1,type:{name:"boolean"}},inProfile:{defaultValue:null,description:"",name:"inProfile",required:!1,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},circle:{defaultValue:null,description:"",name:"circle",required:!1,type:{name:"AvatarCircleFragment"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileUploader/AvatarUploader/index.tsx#AvatarUploader"]={docgenInfo:AvatarUploader.__docgenInfo,name:"AvatarUploader",path:"src/components/FileUploader/AvatarUploader/index.tsx#AvatarUploader"})}catch(__react_docgen_typescript_loader_error){}},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[16].use[2]!./src/components/Dialogs/EditProfileDialog/styles.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".IjVk292eAiEiybMpgJ85 {\n  position: relative;\n  margin: calc(var(--sp16)*-1) calc(var(--sp16)*-1);\n}\n\n@media (min-width: 475px) {\n\n.IjVk292eAiEiybMpgJ85 {\n    margin: 0 calc(var(--sp20)*-1);\n}\n  }\n\n.IjVk292eAiEiybMpgJ85 .tYDrHPBNasEfoukNMlRS {\n    position: absolute;\n    top: 100%;\n    right: 0;\n    padding: var(--sp8) var(--sp16);\n    font-size: var(--text12);\n    color: var(--color-grey);\n  }\n\n.o2K0tcyLlCMBnBakjcq0 {\n  margin-top: calc(var(--sp40)*-1);\n}\n","",{version:3,sources:["webpack://./src/components/Dialogs/EditProfileDialog/styles.module.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,iDAAqD;AAcvD;;AAZE;;AAJF;IAKI,8BAAgC;AAWpC;EAVE;;AAEA;IACE,kBAAkB;IAClB,SAAS;IACT,QAAQ;IACR,+BAA+B;IAC/B,wBAAwB;IACxB,wBAAwB;EAC1B;;AAGF;EACE,gCAAkC;AACpC",sourcesContent:[".coverField {\n  position: relative;\n  margin: calc(var(--sp16) * -1) calc(var(--sp16) * -1);\n\n  @media (--sm-up) {\n    margin: 0 calc(var(--sp20) * -1);\n  }\n\n  & .hint {\n    position: absolute;\n    top: 100%;\n    right: 0;\n    padding: var(--sp8) var(--sp16);\n    font-size: var(--text12);\n    color: var(--color-grey);\n  }\n}\n\n.avatarField {\n  margin-top: calc(var(--sp40) * -1);\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={coverField:"IjVk292eAiEiybMpgJ85",hint:"tYDrHPBNasEfoukNMlRS",avatarField:"o2K0tcyLlCMBnBakjcq0"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[16].use[2]!./src/components/FileUploader/AvatarUploader/styles.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".Numi6KryhUz97oNf8R_8 {\n  position: relative;\n  display: inline-block;\n  font-size: 0;\n}\n\n.Numi6KryhUz97oNf8R_8.WO8hSKCA5JT52JWpJC4Q {\n    border-radius: 50%;\n    box-shadow: 0 0 0 3px var(--color-white);\n  }\n\n.HeURZLv0mxH2HQ7a6gor {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  background: rgba(0, 0, 0, 0.5);\n  border-radius: 50%;\n}\n\n.awvFhf_onNkPcE7twNY_ .HeURZLv0mxH2HQ7a6gor {\n    border-radius: 1.5rem;\n  }\n","",{version:3,sources:["webpack://./src/components/FileUploader/AvatarUploader/styles.module.css","webpack://./src/common/styles/mixins.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,qBAAqB;EACrB,YAAY;AAMd;;AAJE;IACE,kBAAkB;IAClB,wCAAwC;EAC1C;;AAGF;ECiRE,kBAAkB;EAClB,MAAQ;EAAR,QAAQ;EAAR,SAAQ;EAAR,OAAQ;EA1RR,aAAa;EACb,mBAAmB;EACnB,uBAAuB;;EDUvB,8BAA4B;EAC5B,kBAAkB;AACpB;;AAGE;IACE,qBAAqB;EACvB",sourcesContent:[".label {\n  position: relative;\n  display: inline-block;\n  font-size: 0;\n\n  &.hasBorder {\n    border-radius: 50%;\n    box-shadow: 0 0 0 3px var(--color-white);\n  }\n}\n\n.mask {\n  @mixin expand-to-container;\n  @mixin flex-center-all;\n\n  background: rgb(0 0 0 / 50%);\n  border-radius: 50%;\n}\n\n.circle {\n  & .mask {\n    border-radius: 1.5rem;\n  }\n}\n","/* Layouts\n   ========================================================================== */\n@define-mixin flex-center-all {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n@define-mixin flex-center-space-between {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n@define-mixin flex-center-start {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n}\n\n@define-mixin flex-center-end {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n\n@define-mixin flex-start-space-between {\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n}\n\n@define-mixin flex-start-center {\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n}\n\n@define-mixin flex-start-start {\n  display: flex;\n  align-items: flex-start;\n  justify-content: flex-start;\n}\n\n@define-mixin flex-end-space-between {\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between;\n}\n\n@define-mixin inline-flex-center-all {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n}\n\n@define-mixin inline-flex-center-start {\n  display: inline-flex;\n  align-items: center;\n  justify-content: flex-start;\n}\n\n@define-mixin inline-flex-center-end {\n  display: inline-flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n\n@define-mixin inline-flex-start-center {\n  display: inline-flex;\n  align-items: flex-start;\n  justify-content: center;\n}\n\n/* Fonts\n   ========================================================================== */\n@define-mixin font-serif {\n  font-family: var(--font-serif-tc);\n\n  &[lang='zh-Hans'],\n  &[data-lang='zh-Hans'] {\n    font-family: var(--font-serif-sc);\n  }\n}\n\n@define-mixin font-sans {\n  font-family: var(--font-sans-tc);\n\n  &[lang='zh-Hans'],\n  &[data-lang='zh-Hans'] {\n    font-family: var(--font-sans-sc);\n  }\n}\n\n/* Borders\n   ========================================================================== */\n@define-mixin border-grey {\n  border: 1px solid var(--color-line-grey-light);\n}\n\n@define-mixin border-bottom-grey {\n  border-bottom: 1px solid var(--color-line-grey-light);\n}\n\n@define-mixin border-top-grey {\n  border-top: 1px solid var(--color-line-grey-light);\n}\n\n@define-mixin border-left-grey {\n  border-left: 1px solid var(--color-line-grey-light);\n}\n\n@define-mixin border-right-grey {\n  border-right: 1px solid var(--color-line-grey-light);\n}\n\n@define-mixin border-grey-light {\n  border: 1px solid var(--color-grey-light);\n}\n\n@define-mixin border-bottom-grey-light {\n  border-bottom: 1px solid var(--color-grey-light);\n}\n\n@define-mixin border-top-grey-light {\n  border-top: 1px solid var(--color-grey-light);\n}\n\n@define-mixin border-left-grey-light {\n  border-left: 1px solid var(--color-grey-light);\n}\n\n@define-mixin border-right-grey-light {\n  border-right: 1px solid var(--color-grey-light);\n}\n\n@define-mixin shadow-border-bottom-grey {\n  box-shadow: 0 1px 0 0 var(--color-line-grey-light);\n}\n\n@define-mixin shadow-border-top-grey {\n  box-shadow: 0 -1px 0 0 var(--color-line-grey-light);\n}\n\n/* Form\n   ========================================================================== */\n@define-mixin form-input {\n  @mixin transition;\n  @mixin border-grey;\n\n  height: var(--input-height);\n  padding: var(--sp12);\n  font-size: var(--text14);\n  line-height: 1.375rem;\n  color: var(--color-black);\n  background-color: var(--color-white);\n  border-radius: var(--sp8);\n  transition-property: border-color, background-color;\n\n  &:focus,\n  &.focus {\n    border-color: var(--color-grey);\n  }\n\n  &:disabled {\n    color: var(--color-grey-dark);\n    background-color: var(--color-grey-lighter);\n    border-color: transparent;\n  }\n\n  &::placeholder {\n    color: var(--color-grey-dark);\n    opacity: 1; /* Firefox */\n  }\n\n  &.error {\n    border-color: var(--color-negative-red);\n\n    &:focus,\n    &.focus {\n      background-color: transparent;\n      border-color: var(--color-negative-red);\n    }\n  }\n\n  &:-webkit-autofill::first-line {\n    font-size: var(--text16);\n  }\n}\n\n@define-mixin form-input-number {\n  caret-color: var(--color-matters-green);\n\n  /* Chrome, Safari, Edge, Opera */\n  &::-webkit-outer-spin-button,\n  &::-webkit-inner-spin-button {\n    margin: 0;\n    appearance: none;\n  }\n\n  /* Firefox */\n  &[type='number'] {\n    appearance: textfield;\n  }\n}\n\n/* Components\n   ========================================================================== */\n@define-mixin feed-footer-actions {\n  @mixin flex-center-space-between;\n\n  margin-top: var(--sp16);\n  font-size: var(--font-size-subtext);\n  font-weight: var(--font-weight-subtext);\n  line-height: var(--line-height-subtext);\n\n  & .left,\n  & .right {\n    @mixin inline-flex-center-all;\n  }\n\n  & .left {\n    color: var(--color-grey);\n\n    & > * + * {\n      margin-left: var(--sp16);\n    }\n  }\n\n  & .right {\n    color: var(--color-black);\n\n    & > * + * {\n      margin-left: var(--sp16);\n    }\n  }\n}\n\n/* Scrollbar\n   ========================================================================== */\n@define-mixin hide-scrollbar {\n  /* IE 10+ */\n  -ms-overflow-style: none;\n\n  /* Firefox */\n  overflow: -moz-scrollbars-none;\n\n  /* Chrome & Safari */\n  &::-webkit-scrollbar {\n    display: none;\n    width: 0 !important;\n    height: 0 !important;\n  }\n}\n\n@define-mixin scrollbar-thin {\n  /* Width */\n  &::-webkit-scrollbar {\n    width: 15px;\n  }\n\n  /* Track */\n  &::-webkit-scrollbar-track {\n    border: solid 6px transparent;\n    box-shadow: inset 0 0 15px 15px transparent;\n  }\n\n  /* Handle */\n  &::-webkit-scrollbar-thumb {\n    min-height: 68px;\n    border: solid 6px transparent;\n    border-radius: 8px;\n    box-shadow: inset 0 0 15px 15px var(--color-grey-light);\n  }\n\n  /* Handle on hover */\n  &::-webkit-scrollbar-thumb:hover {\n    box-shadow: inset 0 0 15px 15px var(--color-grey);\n  }\n}\n\n/* Utilities\n   ========================================================================== */\n@define-mixin expand-to-container {\n  position: absolute;\n  inset: 0;\n}\n\n@define-mixin safe-area-botttom {\n  &::after {\n    display: block;\n    padding-bottom: env(safe-area-inset-bottom);\n    content: '';\n  }\n}\n\n@define-mixin object-fit-cover {\n  position: absolute;\n  inset: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n@define-mixin transition {\n  transition-timing-function: ease-in-out;\n  transition-duration: 0.2s;\n}\n\n@define-mixin truncate {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-wrap: normal;\n  white-space: nowrap;\n}\n\n@define-mixin line-clamp {\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n\n  /* autoprefixer: ignore next */\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n/* FIXME: fix cropped descenders of letters  */\n@define-mixin fix-cropped-letters {\n  padding-bottom: 0.12em;\n  margin-bottom: -0.12rem;\n}\n\n@define-mixin polka-dot-background {\n  background:\n    linear-gradient(90deg, var(--color-white) 2px, transparent 1%) center,\n    linear-gradient(var(--color-white) 2px, transparent 1%) center,\n    var(--color-grey-light);\n  background-repeat: repeat;\n  background-position: -2px -1px;\n  background-size: 3px 3px;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={label:"Numi6KryhUz97oNf8R_8",hasBorder:"WO8hSKCA5JT52JWpJC4Q",mask:"HeURZLv0mxH2HQ7a6gor",circle:"awvFhf_onNkPcE7twNY_"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___}}]);