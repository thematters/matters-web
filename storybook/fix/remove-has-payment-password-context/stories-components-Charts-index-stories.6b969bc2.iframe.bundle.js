"use strict";(self.webpackChunkmatters_web=self.webpackChunkmatters_web||[]).push([[755],{"./src/stories/components/Charts/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{All:()=>All,__namedExportsOrder:()=>__namedExportsOrder,default:()=>index_stories});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react_testing_esm=__webpack_require__("./node_modules/@apollo/react-testing/lib/react-testing.esm.js"),react=__webpack_require__("./node_modules/react/index.js"),toArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toArray.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),max=__webpack_require__("./node_modules/d3-array/src/max.js"),min=__webpack_require__("./node_modules/d3-array/src/min.js"),extent=__webpack_require__("./node_modules/d3-array/src/extent.js"),time=__webpack_require__("./node_modules/d3-scale/src/time.js"),linear=__webpack_require__("./node_modules/d3-scale/src/linear.js"),src_select=__webpack_require__("./node_modules/d3-selection/src/select.js"),stack=__webpack_require__("./node_modules/d3-shape/src/stack.js"),debounce=__webpack_require__("./node_modules/lodash/debounce.js"),debounce_default=__webpack_require__.n(debounce),enums_time=__webpack_require__("./src/common/enums/time.ts"),useWindowResize=function useWindowResize(defaultSizes){var _useState=(0,react.useState)(defaultSizes||[void 0,void 0]),size=_useState[0],setSize=_useState[1],resize=debounce_default()((function(){return setSize(function getSize(){return"undefined"!=typeof window===void 0?[void 0,void 0]:[window.innerWidth,window.innerHeight]}())}),enums_time.N);return(0,react.useEffect)((function(){return resize(),window.addEventListener("resize",resize),function(){return window.removeEventListener("resize",resize)}}),[]),size},src_linear=__webpack_require__("./node_modules/d3-ease/src/linear.js"),value=__webpack_require__("./node_modules/d3-interpolate/src/value.js"),ordinal=__webpack_require__("./node_modules/d3-scale/src/ordinal.js"),src_area=__webpack_require__("./node_modules/d3-shape/src/area.js"),natural=__webpack_require__("./node_modules/d3-shape/src/curve/natural.js"),src=__webpack_require__("./node_modules/d3-transition/src/index.js"),__jsx=react.createElement,Area=function Area(_ref){var colors=_ref.colors,data=_ref.data,series=_ref.series,xScale=_ref.xScale,yScale=_ref.yScale,yMin=_ref.yMin,gRef=(0,react.useRef)(null),_Object$keys=Object.keys(data[0]),_Object$keys2=(0,toArray.Z)(_Object$keys),stackedKeys=(_Object$keys2[0],_Object$keys2.slice(1));return(0,react.useEffect)((function(){(0,src_select.Z)(gRef.current).selectAll("path").remove();var areaColor1=(0,ordinal.Z)().domain(stackedKeys).range(stackedKeys.map((function(k){return"url(#area-".concat(k,"-1)")}))),areaColor2=(0,ordinal.Z)().domain(stackedKeys).range(stackedKeys.map((function(k){return"url(#area-".concat(k,"-2)")}))),lineColor=(0,ordinal.Z)().domain(stackedKeys).range(stackedKeys.map((function(k){return"url(#line-".concat(k,")")})));[1,2].forEach((function(i){(0,src_select.Z)(gRef.current).selectAll().data(series).join("path").attr("d",(0,src_area.Z)().curve(natural.Z).x((function(d){return xScale(d.data.time)})).y0((function(d){return yScale(d[0]||yMin)})).y1((function(d){return yScale(d[1])}))).style("fill",(function(d){return 1===i?areaColor1(d.key):areaColor2(d.key)})).style("opacity",0).transition((0,src.eR)()).duration(1e3).ease(src_linear.G).style("opacity",1)})),(0,src_select.Z)(gRef.current).selectAll().data(series).join("path").attr("fill","none").attr("stroke-width",3).attr("stroke-linecap","round").attr("stroke-linejoin","round").style("stroke",(function(d){return lineColor(d.key)})).attr("d",(0,src_area.Z)().curve(natural.Z).x((function(d){return xScale(d.data.time)})).y0((function(d){return yScale(d[0])})).y1((function(d){return yScale(d[1])})).lineY1()).transition((0,src.eR)()).duration(1e3).ease(src_linear.G).attrTween("stroke-dasharray",(function(){var length=null==this?void 0:this.getTotalLength();return(0,value.Z)("0,".concat(length),"".concat(length,",").concat(length))}))}),[xScale,yScale]),__jsx("g",{ref:gRef},__jsx("defs",null,stackedKeys.map((function(key){return __jsx(react.Fragment,{key},__jsx("linearGradient",{id:"area-".concat(key,"-1"),x1:"0",y1:"0",x2:"0",y2:"1"},__jsx("stop",{stopColor:colors[key].area}),__jsx("stop",{offset:"83.33%",stopColor:colors[key].area,stopOpacity:"0.333333"}),__jsx("stop",{offset:"100%",stopColor:"white",stopOpacity:"0"})),__jsx("linearGradient",{id:"area-".concat(key,"-2"),x1:"0",y1:"0",x2:"1",y2:"0"},__jsx("stop",{stopColor:"white"}),__jsx("stop",{offset:"13.5%",stopColor:"white",stopOpacity:"0"}),__jsx("stop",{offset:"87.5%",stopColor:"white",stopOpacity:"0"}),__jsx("stop",{offset:"100%",stopColor:"white"})),__jsx("linearGradient",{id:"line-".concat(key),x1:"0",y1:"0",x2:"1",y2:"0"},__jsx("stop",{stopColor:"white",stopOpacity:"0"}),__jsx("stop",{offset:"13.5%",stopColor:colors[key].line}),__jsx("stop",{offset:"87.5%",stopColor:colors[key].line}),__jsx("stop",{offset:"100%",stopColor:"white",stopOpacity:"0"})))}))))};Area.displayName="Area";const StackedAreaChart_Area=Area;try{Area.displayName="Area",Area.__docgenInfo={description:"",displayName:"Area",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Data"}},series:{defaultValue:null,description:"",name:"series",required:!0,type:{name:"Series<{ [key: string]: number; }, string>[]"}},svgRef:{defaultValue:null,description:"",name:"svgRef",required:!0,type:{name:"RefObject<any>"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},margin:{defaultValue:null,description:"",name:"margin",required:!1,type:{name:"{ top: number; right: number; bottom: number; left: number; }"}},xScale:{defaultValue:null,description:"",name:"xScale",required:!0,type:{name:"ScaleTime<number, number, never>"}},yScale:{defaultValue:null,description:"",name:"yScale",required:!0,type:{name:"ScaleLinear<number, number, never>"}},yMax:{defaultValue:null,description:"",name:"yMax",required:!0,type:{name:"number"}},yMin:{defaultValue:null,description:"",name:"yMin",required:!0,type:{name:"number"}},yTicks:{defaultValue:null,description:"",name:"yTicks",required:!1,type:{name:"number"}},colors:{defaultValue:null,description:"",name:"colors",required:!0,type:{name:"{ [key: string]: { area: string; line: string; }; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Charts/StackedAreaChart/Area.tsx#Area"]={docgenInfo:Area.__docgenInfo,name:"Area",path:"src/components/Charts/StackedAreaChart/Area.tsx#Area"})}catch(__react_docgen_typescript_loader_error){}var range=__webpack_require__("./node_modules/d3-array/src/range.js"),axis=__webpack_require__("./node_modules/d3-axis/src/axis.js"),defaultLocale=__webpack_require__("./node_modules/d3-format/src/defaultLocale.js"),src_defaultLocale=__webpack_require__("./node_modules/d3-time-format/src/defaultLocale.js"),LanguageContext=__webpack_require__("./src/components/Context/Language/LanguageContext.tsx"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),styles_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[16].use[2]!./src/components/Charts/StackedAreaChart/styles.module.css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(styles_module.Z,options);const StackedAreaChart_styles_module=styles_module.Z&&styles_module.Z.locals?styles_module.Z.locals:void 0;var Axis_jsx=react.createElement,Axis=function Axis(_ref){var data=_ref.data,width=_ref.width,height=_ref.height,_ref$margin=_ref.margin,left=_ref$margin.left,bottom=_ref$margin.bottom,right=_ref$margin.right,xScale=_ref.xScale,yScale=_ref.yScale,yMax=_ref.yMax,yMin=_ref.yMin,yTicks=_ref.yTicks,lang=(0,react.useContext)(LanguageContext.AZ).lang,xAxisRef=(0,react.useRef)(null),yAxisRef=(0,react.useRef)(null),yTickStep=(yMax-yMin)/yTicks;return(0,react.useEffect)((function(){(0,src_select.Z)(xAxisRef.current).call((0,axis.LL)(xScale).tickValues(data.map((function(d){return d.time}))).tickSize(0).tickFormat((function(t){return"en"===lang?(0,src_defaultLocale.i$)("%b")(t):"".concat((0,src_defaultLocale.i$)("%m")(t).replace(/^0/,"")," 月")}))).call((function(g){return g.selectAll("text").attr("y",10)})).call((function(g){return g.select(".domain").remove()})),(0,src_select.Z)(yAxisRef.current).call((0,axis.y4)(yScale).tickValues((0,range.Z)(yMin,yMax+yTickStep,yTickStep)).tickSizeInner(-width+left+right).tickSizeOuter(0).tickFormat((function(d,index){return index%2?"".concat((0,defaultLocale.WU)("d")(d)):""}))).call((function(g){return g.selectAll("text").attr("x",-12)})).call((function(g){return g.select(".domain").remove()}))}),[xScale,yScale]),Axis_jsx(react.Fragment,null,Axis_jsx("g",{className:StackedAreaChart_styles_module.xAxis,ref:xAxisRef,transform:"translate(0, ".concat(height-bottom,")")}),Axis_jsx("g",{className:StackedAreaChart_styles_module.yAxis,ref:yAxisRef,transform:"translate(".concat(left,",0)")}))};const StackedAreaChart_Axis=Axis;try{Axis.displayName="Axis",Axis.__docgenInfo={description:"",displayName:"Axis",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Data"}},series:{defaultValue:null,description:"",name:"series",required:!0,type:{name:"Series<{ [key: string]: number; }, string>[]"}},svgRef:{defaultValue:null,description:"",name:"svgRef",required:!0,type:{name:"RefObject<any>"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},margin:{defaultValue:null,description:"",name:"margin",required:!1,type:{name:"{ top: number; right: number; bottom: number; left: number; }"}},xScale:{defaultValue:null,description:"",name:"xScale",required:!0,type:{name:"ScaleTime<number, number, never>"}},yScale:{defaultValue:null,description:"",name:"yScale",required:!0,type:{name:"ScaleLinear<number, number, never>"}},yMax:{defaultValue:null,description:"",name:"yMax",required:!0,type:{name:"number"}},yMin:{defaultValue:null,description:"",name:"yMin",required:!0,type:{name:"number"}},yTicks:{defaultValue:null,description:"",name:"yTicks",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Charts/StackedAreaChart/Axis.tsx#Axis"]={docgenInfo:Axis.__docgenInfo,name:"Axis",path:"src/components/Charts/StackedAreaChart/Axis.tsx#Axis"})}catch(__react_docgen_typescript_loader_error){}var objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),bisector=__webpack_require__("./node_modules/d3-array/src/bisector.js"),sum=__webpack_require__("./node_modules/d3-array/src/sum.js"),tippy_esm=__webpack_require__("./node_modules/tippy.js/dist/tippy.esm.js"),_excluded=["time"],_excluded2=["time"],Tooltip_jsx=react.createElement,defaultFormatter=function defaultFormatter(datum){datum.time;var values=(0,objectWithoutProperties.Z)(datum,_excluded);return Object.values(values).join("<br/>")},Tooltip=function Tooltip(_ref){var data=_ref.data,height=(_ref.series,_ref.height),bottom=_ref.margin.bottom,xScale=_ref.xScale,yScale=_ref.yScale,svgRef=_ref.svgRef,_ref$formatter=_ref.formatter,formatter=void 0===_ref$formatter?defaultFormatter:_ref$formatter,lineRef=(0,react.useRef)(null),circleRef=(0,react.useRef)(null),_useState=(0,react.useState)(),tooltip=_useState[0],setTooltip=_useState[1];(0,react.useEffect)((function(){var tippyInstance=(0,tippy_esm.ZP)(circleRef.current,{content:"",theme:"tooltip:chart",duration:0,animation:!1,interactive:!1,allowHTML:!0});setTooltip(tippyInstance)}),[]);var showTooltip=function showTooltip(event){var line=(0,src_select.Z)(lineRef.current),circle=(0,src_select.Z)(circleRef.current);event.preventDefault();var offsetX=0;if(["touchmove","touchstart"].indexOf(event.type)>=0){var svgRect=svgRef.current.getBoundingClientRect();offsetX=event.touches[0].clientX-svgRect.left}else offsetX=event.offsetX;var targetDatum=function selectTargetDatum(offsetX){var bisectDate=(0,bisector.Z)((function(di){return di.time})).left,date=xScale.invert(offsetX),i=bisectDate(data,date,1),a=data[i-1],b=data[i];return a&&b?+date-+a.time>+b.time-+date?b:a:a||b}(offsetX),values=(targetDatum.time,(0,objectWithoutProperties.Z)(targetDatum,_excluded2)),sumY=(0,sum.Z)(Object.values(values));line.attr("x1",xScale(targetDatum.time)).attr("x2",xScale(targetDatum.time)).attr("y1",yScale(sumY)),circle.attr("cx",xScale(targetDatum.time)).attr("cy",yScale(sumY)),null==tooltip||tooltip.setContent(formatter(targetDatum)),null==tooltip||tooltip.show()};return(0,react.useEffect)((function(){var line=(0,src_select.Z)(lineRef.current),circle=(0,src_select.Z)(circleRef.current);(0,src_select.Z)(svgRef.current).on("mouseout touchend",(function(){line.style("opacity","0"),circle.style("opacity","0"),null==tooltip||tooltip.hide()})).on("mouseover touchstart",(function(event){line.style("opacity","1"),circle.style("opacity","1"),showTooltip(event)})).on("mousemove touchmove",(function(event){showTooltip(event)}))}),[xScale,yScale,tooltip]),Tooltip_jsx("g",null,Tooltip_jsx("line",{ref:lineRef,x1:"0",y1:"0",x2:"0",y2:height-bottom,stroke:"rgba(154, 229, 226, .4)",strokeWidth:1,opacity:0}),Tooltip_jsx("circle",{ref:circleRef,r:8,stroke:"white",strokeWidth:2,fill:"#9AE5E2",opacity:0}))};Tooltip.displayName="Tooltip";const StackedAreaChart_Tooltip=Tooltip;try{Tooltip.displayName="Tooltip",Tooltip.__docgenInfo={description:"",displayName:"Tooltip",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Data"}},series:{defaultValue:null,description:"",name:"series",required:!0,type:{name:"Series<{ [key: string]: number; }, string>[]"}},svgRef:{defaultValue:null,description:"",name:"svgRef",required:!0,type:{name:"RefObject<any>"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},margin:{defaultValue:null,description:"",name:"margin",required:!1,type:{name:"{ top: number; right: number; bottom: number; left: number; }"}},xScale:{defaultValue:null,description:"",name:"xScale",required:!0,type:{name:"ScaleTime<number, number, never>"}},yScale:{defaultValue:null,description:"",name:"yScale",required:!0,type:{name:"ScaleLinear<number, number, never>"}},yMax:{defaultValue:null,description:"",name:"yMax",required:!0,type:{name:"number"}},yMin:{defaultValue:null,description:"",name:"yMin",required:!0,type:{name:"number"}},yTicks:{defaultValue:null,description:"",name:"yTicks",required:!1,type:{name:"number"}},formatter:{defaultValue:{value:"(datum: Datum) => {\n  const { time, ...values } = datum\n  return Object.values(values).join('<br/>')\n}"},description:"",name:"formatter",required:!1,type:{name:"((datum: Datum) => string)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Charts/StackedAreaChart/Tooltip.tsx#Tooltip"]={docgenInfo:Tooltip.__docgenInfo,name:"Tooltip",path:"src/components/Charts/StackedAreaChart/Tooltip.tsx#Tooltip"})}catch(__react_docgen_typescript_loader_error){}var StackedAreaChart_jsx=react.createElement,StackedAreaChart=function StackedAreaChart(_ref){var data=_ref.data,_ref$height=_ref.height,height=void 0===_ref$height?200:_ref$height,_ref$yTicks=_ref.yTicks,yTicks=void 0===_ref$yTicks?5:_ref$yTicks,children=_ref.children,_useWindowResize=useWindowResize(),windowWidth=(0,slicedToArray.Z)(_useWindowResize,1)[0],containerRef=(0,react.useRef)(null),svgRef=(0,react.useRef)(null),_useState=(0,react.useState)({width:0,height:0}),maxLabelSize=_useState[0],setMaxLabelSize=_useState[1],_useState2=(0,react.useState)(0),svgWidth=_useState2[0],setSvgWidth=_useState2[1],svgHeight=height,margin={top:maxLabelSize.height/2,right:8,bottom:maxLabelSize.height+10,left:maxLabelSize.width+12},_Object$keys=Object.keys(data[0]),_Object$keys2=(0,toArray.Z)(_Object$keys),stackedKeys=(_Object$keys2[0],_Object$keys2.slice(1)),series=(0,stack.Z)().keys(stackedKeys)(data),_yMax=(0,max.Z)(series,(function(d){return(0,max.Z)(d,(function(dd){return dd[1]}))})),_yMin=(0,min.Z)(series,(function(d){return(0,min.Z)(d,(function(dd){return dd[1]}))})),tickDistance=(_yMax-_yMin)/yTicks,yMax=_yMax+tickDistance/2,yMin=_yMin-tickDistance/2,xScale=(0,time.Z)().domain((0,extent.Z)(data,(function(d){return d.time}))).range([margin.left,svgWidth-margin.right]),yScale=(0,linear.Z)().domain([yMin,yMax]).range([height-margin.bottom,margin.top]);return(0,react.useEffect)((function(){windowWidth&&containerRef.current&&(setSvgWidth(containerRef.current.getBoundingClientRect().width),(0,src_select.Z)(svgRef.current).append("text").text(_yMax).style("font-size","12").each((function(){setMaxLabelSize({width:this.getBBox().width,height:this.getBBox().height})})).remove())}),[windowWidth]),StackedAreaChart_jsx("div",{ref:containerRef},StackedAreaChart_jsx("svg",{className:StackedAreaChart_styles_module.svg,ref:svgRef,width:svgWidth,height:svgHeight},svgWidth>0&&children({data,series,width:svgWidth,height:svgHeight,margin,xScale,yScale,yTicks,yMin,yMax,svgRef})))};StackedAreaChart.displayName="StackedAreaChart",StackedAreaChart.Axis=StackedAreaChart_Axis,StackedAreaChart.Area=StackedAreaChart_Area,StackedAreaChart.Tooltip=StackedAreaChart_Tooltip;try{StackedAreaChart.displayName="StackedAreaChart",StackedAreaChart.__docgenInfo={description:"",displayName:"StackedAreaChart",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Data"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"200"},description:"",name:"height",required:!1,type:{name:"number"}},margin:{defaultValue:null,description:"",name:"margin",required:!1,type:{name:"{ top: number; right: number; bottom: number; left: number; }"}},yTicks:{defaultValue:{value:"5"},description:"",name:"yTicks",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Charts/StackedAreaChart/index.tsx#StackedAreaChart"]={docgenInfo:StackedAreaChart.__docgenInfo,name:"StackedAreaChart",path:"src/components/Charts/StackedAreaChart/index.tsx#StackedAreaChart"})}catch(__react_docgen_typescript_loader_error){}var toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),CHART_COLOR={green:{area:"#E1F9F8",line:"#9AE5E2"},yellow:{area:"#FEEECA",line:"#F1BA4C"},red:{area:"#FED3CA",line:"#F1836C"},blue:{area:"#D2E0F4",line:"#A2BFE8"}},Charts_styles_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[16].use[2]!./src/stories/components/Charts/styles.module.css"),styles_module_options={};styles_module_options.styleTagTransform=styleTagTransform_default(),styles_module_options.setAttributes=setAttributesWithoutAttributes_default(),styles_module_options.insert=insertBySelector_default().bind(null,"head"),styles_module_options.domAPI=styleDomAPI_default(),styles_module_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(Charts_styles_module.Z,styles_module_options);const components_Charts_styles_module=Charts_styles_module.Z&&Charts_styles_module.Z.locals?Charts_styles_module.Z.locals:void 0;var Charts_excluded=["time"],Charts_jsx=react.createElement;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}var MOCK_INCOME_ANALYTICS=[{time:new Date(2021,0,1),income:255},{time:new Date(2021,1,1),income:433},{time:new Date(2021,2,1),income:380},{time:new Date(2021,3,1),income:560}],MOCK_SUBSCRIBER_ANALYTICS=[{time:new Date("May 1, 2021 00:00:00 GMT+00:00"),invitation:5,paid:12},{time:new Date("June 1, 2021 00:00:00 GMT+00:00"),invitation:12,paid:15},{time:new Date("July 1, 2021 00:00:00 GMT+00:00"),invitation:15,paid:22},{time:new Date("August 1, 2021 00:00:00 GMT+00:00"),invitation:20,paid:10},{time:new Date("September 1, 2021 00:00:00 GMT+00:00"),invitation:18,paid:4},{time:new Date("October 1, 2021 00:00:00 GMT+00:00"),invitation:24,paid:8}],Charts=function Charts(){return Charts_jsx("section",{className:components_Charts_styles_module.styles},Charts_jsx("ul",null,Charts_jsx("li",null,Charts_jsx(StackedAreaChart,{data:MOCK_INCOME_ANALYTICS},(function(props){return Charts_jsx(react.Fragment,null,Charts_jsx(StackedAreaChart.Axis,props),Charts_jsx(StackedAreaChart.Area,(0,esm_extends.Z)({},props,{colors:{income:CHART_COLOR.green}})),Charts_jsx(StackedAreaChart.Tooltip,props))}))),Charts_jsx("li",null,Charts_jsx(StackedAreaChart,{data:MOCK_SUBSCRIBER_ANALYTICS},(function(props){return Charts_jsx(react.Fragment,null,Charts_jsx(StackedAreaChart.Axis,props),Charts_jsx(StackedAreaChart.Area,(0,esm_extends.Z)({},props,{colors:{invitation:CHART_COLOR.green,paid:CHART_COLOR.yellow}})),Charts_jsx(StackedAreaChart.Tooltip,(0,esm_extends.Z)({},props,{formatter:function formatter(datum){datum.time;var values=(0,objectWithoutProperties.Z)(datum,Charts_excluded);return["<span>總數: ".concat((0,sum.Z)(Object.values(values)),"</span>")].concat((0,toConsumableArray.Z)(Object.keys(values).map((function(key){return"<span>".concat({invitation:"免費",paid:"付費",others:"其他"}[key],": ").concat(datum[key],"</span>")})))).join("<br/>")}})))}))),Charts_jsx("li",null,Charts_jsx(StackedAreaChart,{data:MOCK_SUBSCRIBER_ANALYTICS.map((function(d){return function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},d)}))},(function(props){return Charts_jsx(react.Fragment,null,Charts_jsx(StackedAreaChart.Axis,props),Charts_jsx(StackedAreaChart.Area,(0,esm_extends.Z)({},props,{colors:{invitation:CHART_COLOR.green,paid:CHART_COLOR.yellow}})),Charts_jsx(StackedAreaChart.Tooltip,props))})))))};Charts.displayName="Charts";const Charts_Charts=Charts;var _All$parameters,_All$parameters2,index_stories_jsx=react.createElement;function index_stories_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function index_stories_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?index_stories_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):index_stories_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const index_stories={title:"Components/Charts",component:StackedAreaChart};var Template=function Template(){return index_stories_jsx(react_testing_esm.ge,null,index_stories_jsx(Charts_Charts,null))};Template.displayName="Template";var All=Template.bind({});All.parameters=index_stories_objectSpread(index_stories_objectSpread({},All.parameters),{},{docs:index_stories_objectSpread(index_stories_objectSpread({},null===(_All$parameters=All.parameters)||void 0===_All$parameters?void 0:_All$parameters.docs),{},{source:index_stories_objectSpread({originalSource:"() => <MockedProvider>\n    <Charts />\n  </MockedProvider>"},null===(_All$parameters2=All.parameters)||void 0===_All$parameters2||null===(_All$parameters2=_All$parameters2.docs)||void 0===_All$parameters2?void 0:_All$parameters2.source)})});const __namedExportsOrder=["All"]},"./src/common/enums/time.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>WINDOW_RESIZE_DEBOUNCE,WG:()=>INPUT_DEBOUNCE});var INPUT_DEBOUNCE=300,WINDOW_RESIZE_DEBOUNCE=300},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[16].use[2]!./src/components/Charts/StackedAreaChart/styles.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".tsniZTyCsq4H0qGo2uAR {\n  -webkit-user-select: none;\n          user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.nTymRbFMK2CGqIaT2Ch4 text, .EAzET7u7_J0MdU4TUzat text {\n    font-size: var(--text12);\n    color: var(--color-grey);\n  }\n\n.nTymRbFMK2CGqIaT2Ch4 .tick:first-of-type text {\n    text-anchor: start;\n  }\n\n.nTymRbFMK2CGqIaT2Ch4 .tick:last-of-type text {\n    text-anchor: end;\n  }\n\n.EAzET7u7_J0MdU4TUzat line {\n    stroke: rgba(13, 103, 99, 0.08);\n  }\n","",{version:3,sources:["webpack://./src/components/Charts/StackedAreaChart/styles.module.css"],names:[],mappings:"AAAA;EACE,yBAAiB;UAAjB,iBAAiB;EACjB,wCAAwC;AAC1C;;AAIE;IACE,wBAAwB;IACxB,wBAAwB;EAC1B;;AAIA;IACE,kBAAkB;EACpB;;AAEA;IACE,gBAAgB;EAClB;;AAIA;IACE,+BAA2B;EAC7B",sourcesContent:[".svg {\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.xAxis,\n.yAxis {\n  & text {\n    font-size: var(--text12);\n    color: var(--color-grey);\n  }\n}\n\n.xAxis {\n  & :global(.tick:first-of-type) text {\n    text-anchor: start;\n  }\n\n  & :global(.tick:last-of-type) text {\n    text-anchor: end;\n  }\n}\n\n.yAxis {\n  & line {\n    stroke: rgb(13 103 99 / 8%);\n  }\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={svg:"tsniZTyCsq4H0qGo2uAR",xAxis:"nTymRbFMK2CGqIaT2Ch4",yAxis:"EAzET7u7_J0MdU4TUzat"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[16].use[2]!./src/stories/components/Charts/styles.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"\n  .k_YIrjo1UfCeMFWiPQ_t li {\n    border-bottom: 1px solid var(--color-line-grey-light);\n\n    margin-bottom: var(--sp24);\n    border: 1px solid #999c9d;\n  }\n","",{version:3,sources:["webpack://./src/stories/components/Charts/styles.module.css","webpack://./src/common/styles/mixins.css"],names:[],mappings:";EACE;ICoGA,qDAAqD;;IDjGnD,0BAA0B;IAC1B,yBAAyB;EAC3B",sourcesContent:[".container {\n  & li {\n    @mixin border-bottom-grey;\n\n    margin-bottom: var(--sp24);\n    border: 1px solid #999c9d;\n  }\n}\n","/* Layouts\n   ========================================================================== */\n@define-mixin flex-center-all {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n@define-mixin flex-center-space-between {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n@define-mixin flex-center-start {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n}\n\n@define-mixin flex-center-end {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n\n@define-mixin flex-start-space-between {\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n}\n\n@define-mixin flex-start-center {\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n}\n\n@define-mixin flex-start-start {\n  display: flex;\n  align-items: flex-start;\n  justify-content: flex-start;\n}\n\n@define-mixin flex-end-space-between {\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between;\n}\n\n@define-mixin inline-flex-center-all {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n}\n\n@define-mixin inline-flex-center-start {\n  display: inline-flex;\n  align-items: center;\n  justify-content: flex-start;\n}\n\n@define-mixin inline-flex-center-end {\n  display: inline-flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n\n@define-mixin inline-flex-start-center {\n  display: inline-flex;\n  align-items: flex-start;\n  justify-content: center;\n}\n\n/* Fonts\n   ========================================================================== */\n@define-mixin font-serif {\n  font-family: var(--font-serif-tc);\n\n  &[lang='zh-Hans'],\n  &[data-lang='zh-Hans'] {\n    font-family: var(--font-serif-sc);\n  }\n}\n\n@define-mixin font-sans {\n  font-family: var(--font-sans-tc);\n\n  &[lang='zh-Hans'],\n  &[data-lang='zh-Hans'] {\n    font-family: var(--font-sans-sc);\n  }\n}\n\n/* Borders\n   ========================================================================== */\n@define-mixin border-grey {\n  border: 1px solid var(--color-line-grey-light);\n}\n\n@define-mixin border-bottom-grey {\n  border-bottom: 1px solid var(--color-line-grey-light);\n}\n\n@define-mixin border-top-grey {\n  border-top: 1px solid var(--color-line-grey-light);\n}\n\n@define-mixin border-left-grey {\n  border-left: 1px solid var(--color-line-grey-light);\n}\n\n@define-mixin border-right-grey {\n  border-right: 1px solid var(--color-line-grey-light);\n}\n\n@define-mixin border-grey-light {\n  border: 1px solid var(--color-grey-light);\n}\n\n@define-mixin border-bottom-grey-light {\n  border-bottom: 1px solid var(--color-grey-light);\n}\n\n@define-mixin border-top-grey-light {\n  border-top: 1px solid var(--color-grey-light);\n}\n\n@define-mixin border-left-grey-light {\n  border-left: 1px solid var(--color-grey-light);\n}\n\n@define-mixin border-right-grey-light {\n  border-right: 1px solid var(--color-grey-light);\n}\n\n@define-mixin shadow-border-bottom-grey {\n  box-shadow: 0 1px 0 0 var(--color-line-grey-light);\n}\n\n@define-mixin shadow-border-top-grey {\n  box-shadow: 0 -1px 0 0 var(--color-line-grey-light);\n}\n\n/* Form\n   ========================================================================== */\n@define-mixin form-input {\n  @mixin transition;\n  @mixin border-grey;\n\n  height: var(--input-height);\n  padding: var(--sp12);\n  font-size: var(--text14);\n  line-height: 1.375rem;\n  color: var(--color-black);\n  background-color: var(--color-white);\n  border-radius: var(--sp8);\n  transition-property: border-color, background-color;\n\n  &:focus,\n  &.focus {\n    border-color: var(--color-grey);\n  }\n\n  &:disabled {\n    color: var(--color-grey-dark);\n    background-color: var(--color-grey-lighter);\n    border-color: transparent;\n  }\n\n  &::placeholder {\n    color: var(--color-grey-dark);\n    opacity: 1; /* Firefox */\n  }\n\n  &.error {\n    border-color: var(--color-negative-red);\n\n    &:focus,\n    &.focus {\n      background-color: transparent;\n      border-color: var(--color-negative-red);\n    }\n  }\n\n  &:-webkit-autofill::first-line {\n    font-size: var(--text16);\n  }\n}\n\n@define-mixin form-input-number {\n  caret-color: var(--color-matters-green);\n\n  /* Chrome, Safari, Edge, Opera */\n  &::-webkit-outer-spin-button,\n  &::-webkit-inner-spin-button {\n    margin: 0;\n    appearance: none;\n  }\n\n  /* Firefox */\n  &[type='number'] {\n    appearance: textfield;\n  }\n}\n\n/* Components\n   ========================================================================== */\n@define-mixin feed-footer-actions {\n  @mixin flex-center-space-between;\n\n  margin-top: var(--sp16);\n  font-size: var(--font-size-subtext);\n  font-weight: var(--font-weight-subtext);\n  line-height: var(--line-height-subtext);\n\n  & .left,\n  & .right {\n    @mixin inline-flex-center-all;\n  }\n\n  & .left {\n    color: var(--color-grey);\n\n    & > * + * {\n      margin-left: var(--sp16);\n    }\n  }\n\n  & .right {\n    color: var(--color-black);\n\n    & > * + * {\n      margin-left: var(--sp16);\n    }\n  }\n}\n\n/* Scrollbar\n   ========================================================================== */\n@define-mixin hide-scrollbar {\n  /* IE 10+ */\n  -ms-overflow-style: none;\n\n  /* Firefox */\n  overflow: -moz-scrollbars-none;\n\n  /* Chrome & Safari */\n  &::-webkit-scrollbar {\n    display: none;\n    width: 0 !important;\n    height: 0 !important;\n  }\n}\n\n@define-mixin scrollbar-thin {\n  /* Width */\n  &::-webkit-scrollbar {\n    width: 15px;\n  }\n\n  /* Track */\n  &::-webkit-scrollbar-track {\n    border: solid 6px transparent;\n    box-shadow: inset 0 0 15px 15px transparent;\n  }\n\n  /* Handle */\n  &::-webkit-scrollbar-thumb {\n    min-height: 68px;\n    border: solid 6px transparent;\n    border-radius: 8px;\n    box-shadow: inset 0 0 15px 15px var(--color-grey-light);\n  }\n\n  /* Handle on hover */\n  &::-webkit-scrollbar-thumb:hover {\n    box-shadow: inset 0 0 15px 15px var(--color-grey);\n  }\n}\n\n/* Utilities\n   ========================================================================== */\n@define-mixin expand-to-container {\n  position: absolute;\n  inset: 0;\n}\n\n@define-mixin safe-area-botttom {\n  &::after {\n    display: block;\n    padding-bottom: env(safe-area-inset-bottom);\n    content: '';\n  }\n}\n\n@define-mixin object-fit-cover {\n  position: absolute;\n  inset: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n@define-mixin transition {\n  transition-timing-function: ease-in-out;\n  transition-duration: 0.2s;\n}\n\n@define-mixin truncate {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-wrap: normal;\n  white-space: nowrap;\n}\n\n@define-mixin line-clamp {\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n\n  /* autoprefixer: ignore next */\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n/* FIXME: fix cropped descenders of letters  */\n@define-mixin fix-cropped-letters {\n  padding-bottom: 0.12em;\n  margin-bottom: -0.12rem;\n}\n\n@define-mixin polka-dot-background {\n  background:\n    linear-gradient(90deg, var(--color-white) 2px, transparent 1%) center,\n    linear-gradient(var(--color-white) 2px, transparent 1%) center,\n    var(--color-grey-light);\n  background-repeat: repeat;\n  background-position: -2px -1px;\n  background-size: 3px 3px;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={container:"k_YIrjo1UfCeMFWiPQ_t"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___}}]);