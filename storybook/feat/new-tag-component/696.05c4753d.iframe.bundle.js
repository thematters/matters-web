"use strict";(self.webpackChunkmatters_web=self.webpackChunkmatters_web||[]).push([[696],{"./src/views/User/UserProfile/DropdownActions/ToggleRestrictUser/Button.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>ToggleRestrictUser_Button,fragments:()=>fragments});var _path,taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),react=__webpack_require__("./node_modules/react/index.js"),react_hooks_esm=__webpack_require__("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),lib=__webpack_require__("./node_modules/graphql-tag/lib/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var SvgNavEnter=function SvgNavEnter(props){return react.createElement("svg",_extends({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},props),_path||(_path=react.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.25 3.32141C5.11898 3.32141 4.98804 3.3557 4.8711 3.42416C4.64125 3.55872 4.5 3.80507 4.5 4.07141V17.7744C4.5 18.0626 4.66512 18.3253 4.92479 18.4502L12.5185 22.1044C12.7509 22.2162 13.0245 22.2008 13.2429 22.0635C13.4612 21.9263 13.5938 21.6865 13.5938 21.4286V18.2337H18.75C19.1642 18.2337 19.5 17.898 19.5 17.4837V4.07141C19.5 3.6572 19.1642 3.32141 18.75 3.32141H5.25023C5.25016 3.32141 5.25008 3.32141 5.25 3.32141ZM8.118 4.82141L13.2109 7.68058C13.4474 7.81333 13.5938 8.06339 13.5938 8.33457V16.7337H18V4.82141H8.118ZM6 17.303V5.35257L12.0938 8.77362V20.2353L6 17.303Z",fill:"currentColor"})))};var _templateObject,_templateObject2,Menu=__webpack_require__("./src/components/Menu/index.tsx"),Spinner=__webpack_require__("./src/components/Spinner/index.tsx"),Icon=__webpack_require__("./src/components/Icon/index.tsx"),__jsx=react.createElement,fragments={user:(0,lib.ZP)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n    fragment ToggleRestrictUser on User {\n      id\n      oss {\n        restrictions {\n          type\n        }\n      }\n    }\n  "])))},USER_RESTRICTIONS_ADMIN=(0,lib.ZP)(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.Z)(["\n  query UserRestrictionsAdmin($id: ID!) {\n    user: node(input: { id: $id }) {\n      ... on User {\n        id\n        ...ToggleRestrictUser\n      }\n    }\n  }\n  ","\n"])),fragments.user),ToggleRestrictUserButton=function ToggleRestrictUserButton(_ref){var _data$user,id=_ref.id,openDialog=_ref.openDialog,_useQuery=(0,react_hooks_esm.aM)(USER_RESTRICTIONS_ADMIN,{variables:{id}}),data=_useQuery.data;if(_useQuery.loading)return __jsx(Menu.v.Item,{icon:__jsx(Spinner.$,{size:20}),text:"正在加載中…"});if("User"!==(null==data||null===(_data$user=data.user)||void 0===_data$user?void 0:_data$user.__typename))return null;var user=data.user,enabled=!!user.oss.restrictions.find((function(r){return"articleNewest"===r.type}))&&!!user.oss.restrictions.find((function(r){return"articleHottest"===r.type}));return __jsx(Menu.v.Item,{text:enabled?"放出小黑屋":"關小黑屋",icon:__jsx(Icon.J,{icon:SvgNavEnter,size:20}),textColor:enabled?"greyDarker":"red",textActiveColor:enabled?"black":"redDark",onClick:function onClick(){openDialog({enabled})},ariaHasPopup:"dialog"})};ToggleRestrictUserButton.displayName="ToggleRestrictUserButton";const ToggleRestrictUser_Button=ToggleRestrictUserButton;try{Button.displayName="Button",Button.__docgenInfo={description:"",displayName:"Button",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},openDialog:{defaultValue:null,description:"",name:"openDialog",required:!0,type:{name:"(props: OpenToggleRestrictUserDialogWithProps) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/views/User/UserProfile/DropdownActions/ToggleRestrictUser/Button.tsx#Button"]={docgenInfo:Button.__docgenInfo,name:"Button",path:"src/views/User/UserProfile/DropdownActions/ToggleRestrictUser/Button.tsx#Button"})}catch(__react_docgen_typescript_loader_error){}}}]);