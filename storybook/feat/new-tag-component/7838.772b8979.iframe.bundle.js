"use strict";(self.webpackChunkmatters_web=self.webpackChunkmatters_web||[]).push([[7838],{"./src/components/Forms/PaymentForm/ResetPassword/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>PaymentForm_ResetPassword});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/react/index.js"),message=__webpack_require__("./node_modules/react-intl/lib/src/components/message.js"),Viewer=__webpack_require__("./src/components/Context/Viewer/index.tsx"),useStep=__webpack_require__("./src/components/Hook/useStep.ts"),Toast=__webpack_require__("./src/components/Toast/index.tsx"),Dialog=__webpack_require__("./src/components/Dialog/index.tsx"),__jsx=react.createElement,Complete=function Complete(_ref){var closeDialog=_ref.closeDialog,callback=_ref.callback,callbackText=_ref.callbackText;return __jsx(react.Fragment,null,__jsx(Dialog.V.Header,{title:__jsx(message.Z,{defaultMessage:"Reset Payment Password",id:"+OStJM"})}),__jsx(Dialog.V.Content,null,__jsx(Dialog.V.Content.Message,null,__jsx("p",null,__jsx(message.Z,{defaultMessage:"Transaction Password successfully changed.",id:"l2eEyp"})))),__jsx(Dialog.V.Footer,{closeDialog:callback?void 0:closeDialog,closeText:callback?void 0:__jsx(message.Z,{defaultMessage:"Close",id:"rbrahO"}),btns:callback?__jsx(Dialog.V.RoundedButton,{text:callbackText,onClick:callback}):null,smUpBtns:callback?__jsx(Dialog.V.TextButton,{text:callbackText,onClick:callback}):null}))};const ResetPassword_Complete=Complete;try{Complete.displayName="Complete",Complete.__docgenInfo={description:"",displayName:"Complete",props:{closeDialog:{defaultValue:null,description:"",name:"closeDialog",required:!0,type:{name:"() => void"}},callback:{defaultValue:null,description:"",name:"callback",required:!1,type:{name:"(() => any)"}},callbackText:{defaultValue:null,description:"",name:"callbackText",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/PaymentForm/ResetPassword/Complete.tsx#Complete"]={docgenInfo:Complete.__docgenInfo,name:"Complete",path:"src/components/Forms/PaymentForm/ResetPassword/Complete.tsx#Complete"})}catch(__react_docgen_typescript_loader_error){}var _templateObject,asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),formik_esm=__webpack_require__("./node_modules/formik/dist/formik.esm.js"),lib=__webpack_require__("./node_modules/graphql-tag/lib/index.js"),pickBy=__webpack_require__("./node_modules/lodash/pickBy.js"),pickBy_default=__webpack_require__.n(pickBy),useIntl=__webpack_require__("./node_modules/react-intl/lib/src/components/useIntl.js"),payment=__webpack_require__("./src/common/enums/payment.ts"),form_validate=__webpack_require__("./src/common/utils/form/validate.ts"),error=__webpack_require__("./src/common/utils/form/error.ts"),hooks=__webpack_require__("./src/components/GQL/hooks.ts"),Form=__webpack_require__("./src/components/Form/index.tsx"),Spinner=__webpack_require__("./src/components/Spinner/index.tsx"),Confirm_jsx=react.createElement,RESET_PAYMENT_PASSWORD=(0,lib.ZP)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n  mutation ResetPaymentPassword($input: ResetPasswordInput!) {\n    resetPassword(input: $input)\n  }\n"]))),Confirm=function Confirm(_ref){var _onSubmit,codeId=_ref.codeId,submitCallback=_ref.submitCallback,closeDialog=_ref.closeDialog,back=_ref.back,intl=(0,useIntl.Z)(),_useMutation=(0,hooks.Db)(RESET_PAYMENT_PASSWORD,void 0,{showToast:!1}),reset=(0,slicedToArray.Z)(_useMutation,1)[0],_useStep=(0,useStep.g)("password"),currStep=_useStep.currStep,forward=_useStep.forward,isInPassword="password"===currStep,isInComparedPassword="comparedPassword"===currStep,_useFormik=(0,formik_esm.useFormik)({initialValues:{password:"",comparedPassword:""},validateOnBlur:!1,validateOnChange:!1,validate:function validate(_ref2){var password=_ref2.password,comparedPassword=_ref2.comparedPassword,passwordError=(0,form_validate.Oc)(password,intl),comparedPasswordError=(0,form_validate.zn)(password,comparedPassword,intl);return!passwordError&&isInPassword&&forward("comparedPassword"),comparedPasswordError&&setFieldValue("comparedPassword","",!1),pickBy_default()({password:isInPassword&&passwordError,comparedPassword:isInComparedPassword&&comparedPasswordError})},onSubmit:(_onSubmit=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(_ref3,_ref4){var password,setFieldError,setSubmitting,_parseFormSubmitError,_parseFormSubmitError2,messages,codes;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return password=_ref3.password,setFieldError=_ref4.setFieldError,setSubmitting=_ref4.setSubmitting,_context.prev=2,_context.next=5,reset({variables:{input:{password,codeId,type:"payment"}}});case 5:setSubmitting(!1),submitCallback(),_context.next=15;break;case 9:_context.prev=9,_context.t0=_context.catch(2),setSubmitting(!1),_parseFormSubmitError=(0,error.E)(_context.t0),_parseFormSubmitError2=(0,slicedToArray.Z)(_parseFormSubmitError,2),messages=_parseFormSubmitError2[0],codes=_parseFormSubmitError2[1],setFieldError("password",intl.formatMessage(messages[codes[0]])),setFieldValue("comparedPassword","",!1);case 15:case"end":return _context.stop()}}),_callee,null,[[2,9]])}))),function onSubmit(_x,_x2){return _onSubmit.apply(this,arguments)})}),values=_useFormik.values,errors=_useFormik.errors,touched=_useFormik.touched,setFieldValue=_useFormik.setFieldValue,setTouched=_useFormik.setTouched,handleSubmit=_useFormik.handleSubmit,isSubmitting=_useFormik.isSubmitting,InnerForm=Confirm_jsx(Form.l,{onSubmit:handleSubmit},isInPassword&&Confirm_jsx(Form.l.PinInput,{label:Confirm_jsx(message.Z,{defaultMessage:"Please enter new transaction password",description:"src/components/Forms/PaymentForm/ResetPassword/Confirm.tsx",id:"kvUs/6"}),hasLabel:!0,name:"password",value:values.password,error:touched.password&&errors.password,length:payment.ii,onChange:function onChange(value){var shouldValidate=value.length===payment.ii;setTouched({password:!0},shouldValidate),setFieldValue("password",value,shouldValidate)}}),isInComparedPassword&&Confirm_jsx(Form.l.PinInput,{label:Confirm_jsx(message.Z,{defaultMessage:"Please enter new transaction password again",description:"src/components/Forms/PaymentForm/ResetPassword/Confirm.tsx",id:"6KmKvZ"}),hasLabel:!0,name:"compared-password",hintAlign:"center",value:values.comparedPassword,error:touched.comparedPassword&&errors.comparedPassword,length:payment.ii,onChange:function onChange(value){var shouldValidate=value.length===payment.ii;setTouched({comparedPassword:!0},shouldValidate),setFieldValue("comparedPassword",value,shouldValidate)}}));return(0,react.useEffect)((function(){values.password.length===payment.ii&&values.comparedPassword.length===payment.ii&&handleSubmit()}),[values.password,values.comparedPassword]),isSubmitting?Confirm_jsx(Dialog.V.Content,null,Confirm_jsx(Spinner.B,null)):Confirm_jsx(react.Fragment,null,Confirm_jsx(Dialog.V.Header,{title:Confirm_jsx(message.Z,{defaultMessage:"Reset Payment Password",id:"+OStJM"}),closeDialog,leftBtn:back?Confirm_jsx(Dialog.V.TextButton,{text:Confirm_jsx(message.Z,{defaultMessage:"Back",id:"cyR7Kh"}),onClick:back}):void 0}),Confirm_jsx(Dialog.V.Content,null,InnerForm),Confirm_jsx(Dialog.V.Footer,{smUpBtns:Confirm_jsx(Dialog.V.TextButton,{text:Confirm_jsx(message.Z,{defaultMessage:"Cancel",id:"47FYwb"}),color:"greyDarker",onClick:closeDialog})}))};const ResetPassword_Confirm=Confirm;try{Confirm.displayName="Confirm",Confirm.__docgenInfo={description:"",displayName:"Confirm",props:{codeId:{defaultValue:null,description:"",name:"codeId",required:!0,type:{name:"string"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"() => void"}},closeDialog:{defaultValue:null,description:"",name:"closeDialog",required:!1,type:{name:"(() => any)"}},back:{defaultValue:null,description:"",name:"back",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/PaymentForm/ResetPassword/Confirm.tsx#Confirm"]={docgenInfo:Confirm.__docgenInfo,name:"Confirm",path:"src/components/Forms/PaymentForm/ResetPassword/Confirm.tsx#Confirm"})}catch(__react_docgen_typescript_loader_error){}var errorCode=__webpack_require__("./src/common/enums/errorCode.ts"),time=__webpack_require__("./src/common/enums/time.ts"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),styles_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[16].use[2]!./src/components/Forms/Verification/ResendCodeButton/styles.module.css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(styles_module.Z,options);const ResendCodeButton_styles_module=styles_module.Z&&styles_module.Z.locals?styles_module.Z.locals:void 0;var ResendCodeButton_jsx=react.createElement,ResendCodeButton=function ResendCodeButton(_ref){var showCountDown=_ref.showCountDown,showResendButton=_ref.showResendButton,countdown=_ref.countdown,sendCode=_ref.sendCode,disabled=_ref.disabled;return ResendCodeButton_jsx(react.Fragment,null,showCountDown&&countdown>0&&ResendCodeButton_jsx("span",{className:ResendCodeButton_styles_module.resendButton},countdown," ",ResendCodeButton_jsx(message.Z,{defaultMessage:"Resend",id:"aE5Qq+",description:"src/components/Forms/Verification/ResendCodeButton/index.tsx"})),showResendButton&&0===countdown&&ResendCodeButton_jsx("button",{className:ResendCodeButton_styles_module.resendButton,onClick:function onClick(e){e.preventDefault(),sendCode()},disabled},ResendCodeButton_jsx(message.Z,{defaultMessage:"Resend",id:"aE5Qq+",description:"src/components/Forms/Verification/ResendCodeButton/index.tsx"})))};try{ResendCodeButton.displayName="ResendCodeButton",ResendCodeButton.__docgenInfo={description:"",displayName:"ResendCodeButton",props:{showCountDown:{defaultValue:null,description:"",name:"showCountDown",required:!0,type:{name:"boolean"}},showResendButton:{defaultValue:null,description:"",name:"showResendButton",required:!0,type:{name:"boolean"}},countdown:{defaultValue:null,description:"",name:"countdown",required:!0,type:{name:"number"}},sendCode:{defaultValue:null,description:"",name:"sendCode",required:!0,type:{name:"() => void"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/Verification/ResendCodeButton/index.tsx#ResendCodeButton"]={docgenInfo:ResendCodeButton.__docgenInfo,name:"ResendCodeButton",path:"src/components/Forms/Verification/ResendCodeButton/index.tsx#ResendCodeButton"})}catch(__react_docgen_typescript_loader_error){}var verificationCode_templateObject,Button=__webpack_require__("./src/components/Button/index.tsx"),mutations_sendCode=__webpack_require__("./src/components/GQL/mutations/sendCode.ts"),CONFIRM_CODE=(0,lib.ZP)(verificationCode_templateObject||(verificationCode_templateObject=(0,taggedTemplateLiteral.Z)(["\n  mutation ConfirmVerificationCode($input: ConfirmVerificationCodeInput!) {\n    confirmVerificationCode(input: $input)\n  }\n"]))),ResetPassword_styles_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[16].use[2]!./src/components/Forms/PaymentForm/ResetPassword/styles.module.css"),styles_module_options={};styles_module_options.styleTagTransform=styleTagTransform_default(),styles_module_options.setAttributes=setAttributesWithoutAttributes_default(),styles_module_options.insert=insertBySelector_default().bind(null,"head"),styles_module_options.domAPI=styleDomAPI_default(),styles_module_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(ResetPassword_styles_module.Z,styles_module_options);const PaymentForm_ResetPassword_styles_module=ResetPassword_styles_module.Z&&ResetPassword_styles_module.Z.locals?ResetPassword_styles_module.Z.locals:void 0;var Request_jsx=react.createElement,Request=function Request(_ref){var _onSubmit,_ref$defaultEmail=_ref.defaultEmail,defaultEmail=void 0===_ref$defaultEmail?"":_ref$defaultEmail,submitCallback=_ref.submitCallback,closeDialog=_ref.closeDialog,back=_ref.back,intl=(0,useIntl.Z)(),_useMutation=(0,hooks.Db)(mutations_sendCode.Z),_useMutation2=(0,slicedToArray.Z)(_useMutation,2),send=_useMutation2[0],sendingCode=_useMutation2[1].loading,_useState=(0,react.useState)(!1),sent=_useState[0],setSent=_useState[1],_useCountdown=function useCountdown(initValue){var _useState=(0,react.useState)(initValue),countdown=_useState[0],setCountdown=_useState[1];return(0,react.useEffect)((function(){countdown>0&&setTimeout((function(){return setCountdown(countdown-1)}),1e3)}),[countdown]),{countdown,setCountdown}}(0),countdown=_useCountdown.countdown,setCountdown=_useCountdown.setCountdown,_useMutation3=(0,hooks.Db)(CONFIRM_CODE,void 0,{showToast:!1}),confirmCode=(0,slicedToArray.Z)(_useMutation3,1)[0],formId="payment-password-reset-request-form",_useFormik=(0,formik_esm.useFormik)({initialValues:{email:defaultEmail,code:""},validateOnBlur:!1,validateOnChange:!1,validate:function validate(_ref2){var email=_ref2.email,code=_ref2.code;return pickBy_default()({email:(0,form_validate.oH)(email,intl,{allowPlusSign:!0}),code:(0,form_validate.jE)(code,intl)})},onSubmit:(_onSubmit=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(_ref3,_ref4){var email,code,setFieldError,setSubmitting,_yield$confirmCode,data,confirmVerificationCode,_parseFormSubmitError,_parseFormSubmitError2,messages;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return email=_ref3.email,code=_ref3.code,setFieldError=_ref4.setFieldError,setSubmitting=_ref4.setSubmitting,_context.prev=2,_context.next=5,confirmCode({variables:{input:{email,type:"payment_password_reset",code}}});case 5:_yield$confirmCode=_context.sent,data=_yield$confirmCode.data,confirmVerificationCode=null==data?void 0:data.confirmVerificationCode,setSubmitting(!1),submitCallback&&confirmVerificationCode&&submitCallback({email,codeId:confirmVerificationCode}),_context.next=17;break;case 12:_context.prev=12,_context.t0=_context.catch(2),setSubmitting(!1),_parseFormSubmitError=(0,error.E)(_context.t0),_parseFormSubmitError2=(0,slicedToArray.Z)(_parseFormSubmitError,2),messages=_parseFormSubmitError2[0],_parseFormSubmitError2[1].forEach((function(code){if(code.includes("CODE_")){var m=intl.formatMessage(messages[code]);code===errorCode.O.CODE_INVALID?m=intl.formatMessage({defaultMessage:"Incorrect verification code",id:"R410ei",description:"CODE_INVALID"}):code===errorCode.O.CODE_EXPIRED&&(m=intl.formatMessage({defaultMessage:"Verification code has expired, please resend.",id:"v5MunN",description:"CODE_EXPIRED"})),setFieldError("code",m)}else setFieldError("email",intl.formatMessage(messages[code]))}));case 17:case"end":return _context.stop()}}),_callee,null,[[2,12]])}))),function onSubmit(_x,_x2){return _onSubmit.apply(this,arguments)})}),values=_useFormik.values,errors=_useFormik.errors,touched=_useFormik.touched,handleBlur=_useFormik.handleBlur,handleChange=_useFormik.handleChange,handleSubmit=_useFormik.handleSubmit,isSubmitting=_useFormik.isSubmitting,sendCode=function(){var _ref5=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee2(){return regenerator_default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,send({variables:{input:{email:values.email,type:"payment_password_reset"}}});case 2:setCountdown(time.lD),setSent(!0);case 4:case"end":return _context2.stop()}}),_callee2)})));return function sendCode(){return _ref5.apply(this,arguments)}}(),InnerForm=Request_jsx(Form.l,{id:formId,onSubmit:handleSubmit},Request_jsx(Form.l.Input,{hasLabel:!0,type:"email",name:"email",required:!0,placeholder:intl.formatMessage({defaultMessage:"Email",description:"src/components/Forms/PaymentForm/ResetPassword/Request.tsx",id:"rdxgu4"}),value:values.email,error:touched.email&&errors.email,disabled:!!defaultEmail,onBlur:handleBlur,onChange:handleChange,spacingBottom:"base"}),Request_jsx(Form.l.Input,{hasLabel:!0,type:"text",name:"code",required:!0,placeholder:intl.formatMessage({defaultMessage:"Enter verification code",id:"NSyuEP"}),hintAlign:"center",value:values.code,error:touched.code&&errors.code,onBlur:handleBlur,onChange:handleChange,rightButton:Request_jsx(ResendCodeButton,{showCountDown:sent,showResendButton:sent,disabled:sendingCode||0!==countdown,sendCode,countdown})})),SubmitButton=Request_jsx(Dialog.V.TextButton,{text:Request_jsx(message.Z,{defaultMessage:"Next Step",id:"8cv9D4"}),type:"submit",form:formId,disabled:isSubmitting||""===values.code||""===values.email,loading:isSubmitting});return Request_jsx(react.Fragment,null,Request_jsx(Dialog.V.Header,{title:Request_jsx(message.Z,{defaultMessage:"Reset Payment Password",id:"+OStJM"}),closeDialog,leftBtn:back?Request_jsx(Dialog.V.TextButton,{text:Request_jsx(message.Z,{defaultMessage:"Back",id:"cyR7Kh"}),onClick:back}):void 0,rightBtn:SubmitButton}),Request_jsx(Dialog.V.Content,null,Request_jsx("section",null,InnerForm),Request_jsx("section",{className:PaymentForm_ResetPassword_styles_module.footer},sent&&Request_jsx("section",{className:PaymentForm_ResetPassword_styles_module.sent},Request_jsx(message.Z,{defaultMessage:"Verification code has been sent via email and is valid for 20 minutes.",id:"utMaM0",description:"src/components/Forms/Verification/SendCodeButton/index.tsx"})),!sent&&Request_jsx(Button.z,{disabled:!values.email||0!==countdown,onClick:sendCode,textColor:"green",textActiveColor:"greenDark"},Request_jsx(message.Z,{defaultMessage:"Send the verification code",description:"src/components/Forms/Verification/SendCodeButton/index.tsx",id:"ksvOGO"})))),Request_jsx(Dialog.V.Footer,{smUpBtns:Request_jsx(react.Fragment,null,Request_jsx(Dialog.V.TextButton,{text:Request_jsx(message.Z,back?{defaultMessage:"Back",id:"cyR7Kh"}:{defaultMessage:"Cancel",id:"47FYwb"}),color:"greyDarker",onClick:back||closeDialog}),SubmitButton)}))};const ResetPassword_Request=Request;try{Request.displayName="Request",Request.__docgenInfo={description:"",displayName:"Request",props:{defaultEmail:{defaultValue:{value:""},description:"",name:"defaultEmail",required:!1,type:{name:"string"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!1,type:{name:"((params: any) => void)"}},closeDialog:{defaultValue:null,description:"",name:"closeDialog",required:!1,type:{name:"(() => any)"}},back:{defaultValue:null,description:"",name:"back",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/PaymentForm/ResetPassword/Request.tsx#Request"]={docgenInfo:Request.__docgenInfo,name:"Request",path:"src/components/Forms/PaymentForm/ResetPassword/Request.tsx#Request"})}catch(__react_docgen_typescript_loader_error){}var ResetPassword_jsx=react.createElement;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const PaymentForm_ResetPassword=function PaymentResetPasswordForm(_ref){var callback=_ref.callback,callbackText=_ref.callbackText,closeDialog=_ref.closeDialog,backToPrevDialog=_ref.back,autoCloseDialog=_ref.autoCloseDialog,viewer=(0,react.useContext)(Viewer.Zd),_useStep=(0,useStep.g)("resetPasswordRequest"),currStep=_useStep.currStep,forward=_useStep.forward,back=_useStep.back,baseResetPasswordData={email:viewer.info.email,codeId:""},_useState=(0,react.useState)(baseResetPasswordData),resetPasswordData=_useState[0],setResetPasswordData=_useState[1],isResetPasswordRequest="resetPasswordRequest"===currStep,isResetPasswordConfirm="resetPasswordConfirm"===currStep,isResetPasswordComplete="resetPasswordComplete"===currStep;return ResetPassword_jsx(react.Fragment,null,isResetPasswordRequest&&ResetPassword_jsx(ResetPassword_Request,{defaultEmail:resetPasswordData.email,submitCallback:function resetPasswordRequestCallback(_ref2){var email=_ref2.email,codeId=_ref2.codeId;setResetPasswordData(_objectSpread(_objectSpread({},resetPasswordData),{},{email,codeId})),forward("resetPasswordConfirm")},closeDialog,back:backToPrevDialog}),isResetPasswordConfirm&&ResetPassword_jsx(ResetPassword_Confirm,{codeId:resetPasswordData.codeId,submitCallback:autoCloseDialog?function(){Toast.A.success({message:ResetPassword_jsx(message.Z,{defaultMessage:"Reset successful",id:"qS19ij",description:"src/components/Forms/PaymentForm/ResetPassword/Confirm.tsx"})}),null==closeDialog||closeDialog()}:function(){return forward("resetPasswordComplete")},closeDialog,back}),isResetPasswordComplete&&ResetPassword_jsx(ResetPassword_Complete,{closeDialog,callback,callbackText}))};try{ResetPassword.displayName="ResetPassword",ResetPassword.__docgenInfo={description:"",displayName:"ResetPassword",props:{callback:{defaultValue:null,description:"",name:"callback",required:!1,type:{name:"(() => any)"}},callbackText:{defaultValue:null,description:"",name:"callbackText",required:!1,type:{name:"ReactNode"}},closeDialog:{defaultValue:null,description:"",name:"closeDialog",required:!0,type:{name:"() => void"}},back:{defaultValue:null,description:"",name:"back",required:!1,type:{name:"(() => void)"}},autoCloseDialog:{defaultValue:null,description:"",name:"autoCloseDialog",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/PaymentForm/ResetPassword/index.tsx#ResetPassword"]={docgenInfo:ResetPassword.__docgenInfo,name:"ResetPassword",path:"src/components/Forms/PaymentForm/ResetPassword/index.tsx#ResetPassword"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/GQL/mutations/sendCode.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _templateObject,_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js");const __WEBPACK_DEFAULT_EXPORT__=(0,__webpack_require__("./node_modules/graphql-tag/lib/index.js").ZP)(_templateObject||(_templateObject=(0,_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_1__.Z)(["\n  mutation SendVerificationCode($input: SendVerificationCodeInput!) {\n    sendVerificationCode(input: $input)\n  }\n"])))},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[16].use[2]!./src/components/Forms/PaymentForm/ResetPassword/styles.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".E3DpMdhJZPhpVRXqZvBG {\n  margin-top: var(--sp16);\n  font-size: var(--text14);\n  line-height: 1.375rem;\n  color: var(--color-black);\n  text-align: center;\n}\n","",{version:3,sources:["webpack://./src/components/Forms/PaymentForm/ResetPassword/styles.module.css"],names:[],mappings:"AAAA;EACE,uBAAuB;EACvB,wBAAwB;EACxB,qBAAqB;EACrB,yBAAyB;EACzB,kBAAkB;AACpB",sourcesContent:[".footer {\n  margin-top: var(--sp16);\n  font-size: var(--text14);\n  line-height: 1.375rem;\n  color: var(--color-black);\n  text-align: center;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={footer:"E3DpMdhJZPhpVRXqZvBG"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[16].use[2]!./src/components/Forms/Verification/ResendCodeButton/styles.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".kDkRI5jOHbg48C9M1r1x {\n  display: inline-block;\n  padding-left: var(--sp8);\n  font-size: var(--text14);\n  line-height: 1.375rem;\n  color: var(--color-grey);\n  word-break: keep-all;\n}\nbutton.kDkRI5jOHbg48C9M1r1x {\n    color: var(--color-matters-green);\n  }\nbutton.kDkRI5jOHbg48C9M1r1x:hover,\n    button.kDkRI5jOHbg48C9M1r1x:focus {\n      color: var(--color-matters-green-hover);\n    }\n","",{version:3,sources:["webpack://./src/components/Forms/Verification/ResendCodeButton/styles.module.css"],names:[],mappings:"AAAA;EACE,qBAAqB;EACrB,wBAAwB;EACxB,wBAAwB;EACxB,qBAAqB;EACrB,wBAAwB;EACxB,oBAAoB;AAUtB;AARE;IACE,iCAAiC;EAMnC;AAJE;;MAEE,uCAAuC;IACzC",sourcesContent:[".resendButton {\n  display: inline-block;\n  padding-left: var(--sp8);\n  font-size: var(--text14);\n  line-height: 1.375rem;\n  color: var(--color-grey);\n  word-break: keep-all;\n\n  &button {\n    color: var(--color-matters-green);\n\n    &:hover,\n    &:focus {\n      color: var(--color-matters-green-hover);\n    }\n  }\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={resendButton:"kDkRI5jOHbg48C9M1r1x"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___}}]);