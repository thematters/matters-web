"use strict";(self.webpackChunkmatters_web=self.webpackChunkmatters_web||[]).push([[3720],{"./src/common/enums/cookie.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Di:()=>COOKIE_LANGUAGE,Rt:()=>COOKIE_USER_GROUP,Us:()=>COOKIE_EXPIRES_IN_DAYS,xE:()=>COOKIE_TOKEN_NAME});var prefix="production"===__webpack_require__("./node_modules/process/browser.js").env.NEXT_PUBLIC_RUNTIME_ENV?"":"__dev",COOKIE_TOKEN_NAME=prefix+"__access_token",COOKIE_USER_GROUP=prefix+"__user_group",COOKIE_LANGUAGE=prefix+"__language",COOKIE_EXPIRES_IN_DAYS=90},"./src/common/utils/cookie.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Kr:()=>getIsomorphicCookie,ej:()=>getCookie,lE:()=>setCookies,s$:()=>removeCookies});var js_cookie__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/js-cookie/dist/js.cookie.mjs"),_common_enums__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/common/enums/cookie.ts"),process=__webpack_require__("./node_modules/process/browser.js"),console=__webpack_require__("./node_modules/console-browserify/index.js"),isLocal="local"===process.env.NEXT_PUBLIC_RUNTIME_ENV,getCookieOptions=function getCookieOptions(){return{expires:_common_enums__WEBPACK_IMPORTED_MODULE_1__.Us,secure:window.location.href.includes("https://"),sameSite:"Lax"}},getIsomorphicCookie=function getIsomorphicCookie(cookie,name){if(!cookie)return"";var regexp=new RegExp("(^| )".concat(name,"=([^;]+)")),match=cookie.match(regexp);return match?match[2]:""},getCookie=function getCookie(name){return isLocal&&console.log("[cookie:GET]",name),js_cookie__WEBPACK_IMPORTED_MODULE_0__.Z.get(name)},setCookies=function setCookies(cookies){var options=getCookieOptions();Object.keys(cookies).forEach((function(name){isLocal&&console.log("[cookie:SET]",name,cookies[name]),js_cookie__WEBPACK_IMPORTED_MODULE_0__.Z.set(name,cookies[name],options)}))},removeCookies=function removeCookies(names){var options=getCookieOptions();names.forEach((function(name){isLocal&&console.log("[cookie:REMOVE]",names),js_cookie__WEBPACK_IMPORTED_MODULE_0__.Z.remove(name,options)}))}},"./src/components/Context/Language/LanguageContext.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AZ:()=>LanguageContext,NN:()=>LanguageConsumer});var _templateObject,_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1__),graphql_tag__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/graphql-tag/lib/index.js"),_common_enums__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/common/enums/cookie.ts"),_common_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/common/utils/cookie.ts"),_common_utils__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/common/utils/locale.ts"),_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/GQL/hooks.ts"),_components__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/Context/Viewer/index.tsx"),_components__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/Hook/useRoute.ts"),_components__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/components/Toast/index.tsx"),_gql_graphql__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/gql/graphql.ts"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,UPDATE_VIEWER_LANGUAGE=(0,graphql_tag__WEBPACK_IMPORTED_MODULE_2__.ZP)(_templateObject||(_templateObject=(0,_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_3__.Z)(["\n  mutation UpdateLanguage($input: UpdateUserInfoInput!) {\n    updateUserInfo(input: $input) {\n      id\n      settings {\n        language\n      }\n    }\n  }\n"]))),LanguageContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({}),LanguageConsumer=LanguageContext.Consumer,LanguageProvider=function LanguageProvider(_ref){var fallbackLang,headers=_ref.headers,children=_ref.children,_useMutation=(0,_components__WEBPACK_IMPORTED_MODULE_4__.Db)(UPDATE_VIEWER_LANGUAGE),updateLanguage=(0,_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__.Z)(_useMutation,1)[0],viewer=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_components__WEBPACK_IMPORTED_MODULE_6__.Zd),viewerLang=viewer.isAuthed?viewer.settings.language:"",routerLang=(0,_components__WEBPACK_IMPORTED_MODULE_7__.y)().routerLang,cookieLang=(0,_common_utils__WEBPACK_IMPORTED_MODULE_8__.Kr)(null==headers?void 0:headers.cookie,_common_enums__WEBPACK_IMPORTED_MODULE_9__.Di);if("undefined"!=typeof window){var cookieLanguage=(0,_common_utils__WEBPACK_IMPORTED_MODULE_8__.ej)(_common_enums__WEBPACK_IMPORTED_MODULE_9__.Di);cookieLanguage&&(cookieLang=cookieLanguage)}if("undefined"!=typeof window)fallbackLang=(0,_common_utils__WEBPACK_IMPORTED_MODULE_10__.$1)(navigator.language);else{var acceptLanguage=(headers["accept-language"]||"").split(",").map((function(l){return l.trim()}))[0];fallbackLang=(0,_common_utils__WEBPACK_IMPORTED_MODULE_10__.$1)(acceptLanguage)}fallbackLang=fallbackLang||_gql_graphql__WEBPACK_IMPORTED_MODULE_11__.Yb.ZhHans;var initLocalLang=viewerLang||cookieLang||routerLang||fallbackLang,_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initLocalLang),localLang=_useState[0],setLocalLang=_useState[1],setLang=function(){var _ref2=(0,_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_12__.Z)(_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default().mark((function _callee(language){var html;return _home_runner_work_matters_web_matters_web_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if((0,_common_utils__WEBPACK_IMPORTED_MODULE_8__.lE)((0,_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_13__.Z)({},_common_enums__WEBPACK_IMPORTED_MODULE_9__.Di,language)),setLocalLang(language),(html=document.querySelector("html"))&&html.setAttribute("lang",(0,_common_utils__WEBPACK_IMPORTED_MODULE_10__.O4)(language)),viewer.isAuthed){_context.next=6;break}return _context.abrupt("return");case 6:return _context.prev=6,_context.next=9,updateLanguage({variables:{input:{language}},optimisticResponse:{updateUserInfo:{id:viewer.id,settings:{language,__typename:"UserSettings"},__typename:"User"}}});case 9:_context.next=14;break;case 11:_context.prev=11,_context.t0=_context.catch(6),_components__WEBPACK_IMPORTED_MODULE_14__.A.error({message:language===_gql_graphql__WEBPACK_IMPORTED_MODULE_11__.Yb.En?"Failed to edit, please try again.":language===_gql_graphql__WEBPACK_IMPORTED_MODULE_11__.Yb.ZhHans?"修改失败，请稍候重试":"修改失敗，請稍候重試"});case 14:case"end":return _context.stop()}}),_callee,null,[[6,11]])})));return function setLang(_x){return _ref2.apply(this,arguments)}}();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){document.documentElement.setAttribute("data-lang",(0,_common_utils__WEBPACK_IMPORTED_MODULE_10__.O4)(localLang))}),[localLang]),__jsx(LanguageContext.Provider,{value:{lang:localLang,cookieLang,setLang}},children)};LanguageProvider.displayName="LanguageProvider";try{LanguageConsumer.displayName="LanguageConsumer",LanguageConsumer.__docgenInfo={description:"",displayName:"LanguageConsumer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Context/Language/LanguageContext.tsx#LanguageConsumer"]={docgenInfo:LanguageConsumer.__docgenInfo,name:"LanguageConsumer",path:"src/components/Context/Language/LanguageContext.tsx#LanguageConsumer"})}catch(__react_docgen_typescript_loader_error){}try{LanguageProvider.displayName="LanguageProvider",LanguageProvider.__docgenInfo={description:"",displayName:"LanguageProvider",props:{headers:{defaultValue:null,description:"",name:"headers",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Context/Language/LanguageContext.tsx#LanguageProvider"]={docgenInfo:LanguageProvider.__docgenInfo,name:"LanguageProvider",path:"src/components/Context/Language/LanguageContext.tsx#LanguageProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Context/Viewer/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Zd:()=>ViewerContext});var _templateObject,_templateObject2,_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),graphql_tag__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/graphql-tag/lib/index.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var ViewerFragments={user:{public:(0,graphql_tag__WEBPACK_IMPORTED_MODULE_2__.ZP)(_templateObject||(_templateObject=(0,_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_3__.Z)(["\n      fragment ViewerUserPublic on User {\n        id\n        userName\n        displayName\n        avatar\n        paymentPointer\n        liker {\n          likerId\n          civicLiker\n        }\n        status {\n          state\n          unreadNoticeCount\n          hasPaymentPassword\n        }\n        ownCircles {\n          id\n          name\n        }\n        info {\n          createdAt\n          description\n          email\n          agreeOn\n          userNameEditable\n          group\n          badges {\n            type\n          }\n          ethAddress\n          cryptoWallet {\n            id\n            address\n            hasNFTs\n            # nfts { id }\n          }\n          isWalletAuth\n        }\n        settings {\n          language\n        }\n        following {\n          users(input: { first: 0 }) {\n            totalCount\n          }\n          tags(input: { first: 0 }) {\n            totalCount\n          }\n        }\n        followers(input: { first: 0 }) {\n          totalCount\n        }\n      }\n    "]))),private:(0,graphql_tag__WEBPACK_IMPORTED_MODULE_2__.ZP)(_templateObject2||(_templateObject2=(0,_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_3__.Z)(["\n      fragment ViewerUserPrivate on User {\n        id\n        info {\n          socialAccounts {\n            type\n            userName\n            email\n          }\n          emailVerified\n        }\n        status {\n          role\n          hasEmailLoginPassword\n          changeEmailTimesLeft\n        }\n        articles(input: { first: 0 }) {\n          totalCount\n        }\n        settings {\n          currency\n        }\n      }\n    "])))}},processViewer=function processViewer(viewer){var _viewer$status,_viewer$status2,isAuthed=!!viewer.id,state=null==viewer||null===(_viewer$status=viewer.status)||void 0===_viewer$status?void 0:_viewer$status.state,isActive="active"===state,isBanned="banned"===state,isArchived="archived"===state,isFrozen="frozen"===state,isInactive=isAuthed&&(isBanned||isFrozen||isArchived),isCivicLiker=viewer.liker.civicLiker,isAdmin="admin"===(null===(_viewer$status2=viewer.status)||void 0===_viewer$status2?void 0:_viewer$status2.role),shouldSetupLikerID=isAuthed&&!viewer.liker.likerId;return __webpack_require__.e(8003).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@sentry/browser/esm/index.js")).then((function(Sentry){Sentry.configureScope((function(scope){scope.setUser({id:viewer.id,language:viewer.settings.language}),scope.setTag("source","web")}))})),_objectSpread(_objectSpread({},viewer),{},{isAuthed,isActive,isBanned,isArchived,isFrozen,isInactive,isCivicLiker,isAdmin,shouldSetupLikerID})},ViewerContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({}),ViewerConsumer=ViewerContext.Consumer,ViewerProvider=function ViewerProvider(_ref){var children=_ref.children,viewer=_ref.viewer;return __jsx(ViewerContext.Provider,{value:processViewer(viewer)},children)};ViewerProvider.displayName="ViewerProvider",ViewerProvider.fragments=ViewerFragments;try{processViewer.displayName="processViewer",processViewer.__docgenInfo={description:"",displayName:"processViewer",props:{__typename:{defaultValue:null,description:"",name:"__typename",required:!1,type:{name:"enum",value:[{value:'"User"'}]}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},userName:{defaultValue:null,description:"",name:"userName",required:!1,type:{name:"string | null"}},displayName:{defaultValue:null,description:"",name:"displayName",required:!1,type:{name:"string | null"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!1,type:{name:"string | null"}},paymentPointer:{defaultValue:null,description:"",name:"paymentPointer",required:!1,type:{name:"string | null"}},liker:{defaultValue:null,description:"",name:"liker",required:!0,type:{name:'{ __typename?: "Liker" | undefined; likerId?: string | null | undefined; civicLiker: boolean; }'}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:'({ __typename?: "UserStatus"; state: UserState; unreadNoticeCount: number; hasPaymentPassword: boolean; } & { __typename?: "UserStatus"; role: UserRole; hasEmailLoginPassword: boolean; changeEmailTimesLeft: number; }) | null | undefined'}},ownCircles:{defaultValue:null,description:"",name:"ownCircles",required:!1,type:{name:'{ __typename?: "Circle"; id: string; name: string; }[] | null'}},info:{defaultValue:null,description:"",name:"info",required:!0,type:{name:'{ __typename?: "UserInfo" | undefined; createdAt?: any; description?: string | null | undefined; email?: any; agreeOn?: any; userNameEditable: boolean; group: UserGroup; ethAddress?: string | ... 1 more ... | undefined; isWalletAuth: boolean; badges?: { ...; }[] | ... 1 more ... | undefined; cryptoWallet?: { ...; } ...'}},settings:{defaultValue:null,description:"",name:"settings",required:!0,type:{name:'{ __typename?: "UserSettings" | undefined; language: UserLanguage; } & { __typename?: "UserSettings" | undefined; currency: QuoteCurrency; }'}},following:{defaultValue:null,description:"",name:"following",required:!0,type:{name:'{ __typename?: "Following" | undefined; users: { __typename?: "UserConnection" | undefined; totalCount: number; }; tags: { __typename?: "TagConnection" | undefined; totalCount: number; }; }'}},followers:{defaultValue:null,description:"",name:"followers",required:!0,type:{name:'{ __typename?: "UserConnection" | undefined; totalCount: number; }'}},articles:{defaultValue:null,description:"",name:"articles",required:!0,type:{name:'{ __typename?: "ArticleConnection" | undefined; totalCount: number; }'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Context/Viewer/index.tsx#processViewer"]={docgenInfo:processViewer.__docgenInfo,name:"processViewer",path:"src/components/Context/Viewer/index.tsx#processViewer"})}catch(__react_docgen_typescript_loader_error){}try{ViewerConsumer.displayName="ViewerConsumer",ViewerConsumer.__docgenInfo={description:"",displayName:"ViewerConsumer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Context/Viewer/index.tsx#ViewerConsumer"]={docgenInfo:ViewerConsumer.__docgenInfo,name:"ViewerConsumer",path:"src/components/Context/Viewer/index.tsx#ViewerConsumer"})}catch(__react_docgen_typescript_loader_error){}try{ViewerProvider.displayName="ViewerProvider",ViewerProvider.__docgenInfo={description:"",displayName:"ViewerProvider",props:{viewer:{defaultValue:null,description:"",name:"viewer",required:!0,type:{name:"ViewerUser"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Context/Viewer/index.tsx#ViewerProvider"]={docgenInfo:ViewerProvider.__docgenInfo,name:"ViewerProvider",path:"src/components/Context/Viewer/index.tsx#ViewerProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Error/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{j:()=>Error});var _defs,_g,react=__webpack_require__("./node_modules/react/index.js"),reach_alert=__webpack_require__("./node_modules/@reach/alert/dist/reach-alert.mjs");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var SvgIllustrationEmpty=function SvgIllustrationEmpty(props){return react.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 240 240"},props),_defs||(_defs=react.createElement("defs",null,react.createElement("linearGradient",{id:"illustration-empty_svg__a"},react.createElement("stop",{offset:0,stopColor:"#fff"}),react.createElement("stop",{offset:1,stopColor:"#ddd"})),react.createElement("linearGradient",{id:"illustration-empty_svg__b",x1:"0%",xlinkHref:"#illustration-empty_svg__a",y1:"58.023%",y2:"58.023%"}),react.createElement("linearGradient",{id:"illustration-empty_svg__c",x1:"88.027%",x2:"18.84%",xlinkHref:"#illustration-empty_svg__a",y1:"20.727%",y2:"87.314%"}),react.createElement("circle",{id:"illustration-empty_svg__d",cx:57.939,cy:72.939,r:11.939}),react.createElement("circle",{id:"illustration-empty_svg__e",cx:172.939,cy:167.939,r:5.939}),react.createElement("circle",{id:"illustration-empty_svg__f",cx:119.439,cy:120.439,r:47.439}))),_g||(_g=react.createElement("g",{fill:"none",fillRule:"evenodd"},react.createElement("path",{d:"m0 0h240v240h-240z"}),react.createElement("g",{transform:"matrix(.5 .8660254 -.8660254 .5 60.094234 142.613734)"},react.createElement("path",{d:"m7 30h10l-1.667 4h-6.666z",fill:"#ddd"}),react.createElement("path",{d:"m18 11.182c0-5.182-3.343-11.092-6-11.182-2.657.09-6 6-6 11.182v18.818h12z",fill:"url(#illustration-empty_svg__b)"}),react.createElement("path",{d:"m3 21c1.224-1.114 3-3.09 3-8.08v17.08h-6v-3.06c0-2.658 1.776-4.826 3-5.94zm18 0c-1.224-1.114-3-3.09-3-8.08v17.08h6v-3.06c0-2.658-1.776-4.826-3-5.94z",fill:"#ddd"}),react.createElement("circle",{cx:12,cy:12,fill:"#fff",r:3})),react.createElement("use",{fill:"#87b9ab",xlinkHref:"#illustration-empty_svg__d"}),react.createElement("use",{fill:"url(#illustration-empty_svg__c)",xlinkHref:"#illustration-empty_svg__d"}),react.createElement("use",{fill:"#87b9ab",xlinkHref:"#illustration-empty_svg__e"}),react.createElement("use",{fill:"url(#illustration-empty_svg__c)",xlinkHref:"#illustration-empty_svg__e"}),react.createElement("use",{fill:"#87b9ab",xlinkHref:"#illustration-empty_svg__f"}),react.createElement("use",{fill:"url(#illustration-empty_svg__c)",xlinkHref:"#illustration-empty_svg__f"}))))};var LanguageContext=__webpack_require__("./src/components/Context/Language/LanguageContext.tsx"),Icon=__webpack_require__("./src/components/Icon/index.tsx"),graphql=__webpack_require__("./src/gql/graphql.ts"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),styles_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[16].use[2]!./src/components/Error/styles.module.css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(styles_module.Z,options);const Error_styles_module=styles_module.Z&&styles_module.Z.locals?styles_module.Z.locals:void 0;var process=__webpack_require__("./node_modules/process/browser.js"),__jsx=react.createElement,isProd="production"===process.env.NEXT_PUBLIC_RUNTIME_ENV,ServerError=function ServerError(_ref){var lang=_ref.lang;return __jsx(react.Fragment,null,lang===graphql.Yb.En?"Spaceship maintaining, please come back later":lang===graphql.Yb.ZhHans?"飞船正在检修中，请稍后看看":"飛船正在檢修中，請稍後看看")},NetworkError=function NetworkError(_ref2){var lang=_ref2.lang;return __jsx(react.Fragment,null,lang===graphql.Yb.En?"Connection error, please come back later":lang===graphql.Yb.ZhHans?"星球连线出现问题，请稍后看看":"星球連線出現問題，請稍後看看")},NotFound=function NotFound(_ref3){var lang=_ref3.lang;return __jsx(react.Fragment,null,lang===graphql.Yb.En?"It seems you've come to an unknown space, please go back and retry":lang===graphql.Yb.ZhHans?"你似乎遨游到了一个未知空间，请返回重试":"你似乎遨遊到了一個未知空間，請返回重試")},Error=function Error(_ref4){var _ref4$type=_ref4.type,type=void 0===_ref4$type?"network":_ref4$type,message=_ref4.message,error=_ref4.error,children=_ref4.children,lang=(0,react.useContext)(LanguageContext.AZ).lang;return __jsx("section",{className:Error_styles_module.error,role:"alert","aria-live":"assertive","aria-atomic":"true"},__jsx("section",{className:Error_styles_module.image},__jsx(Icon.J,{icon:SvgIllustrationEmpty,style:{width:"15rem",height:"15rem"}})),__jsx(reach_alert.b,{type:"assertive"},__jsx("p",{className:Error_styles_module.errorMessage},message||__jsx("not_found"===type?NotFound:"network"===type?NetworkError:ServerError,{lang}))),children&&__jsx("section",{className:Error_styles_module.errorRedirect},children),error&&!isProd&&__jsx("pre",{className:Error_styles_module.errorDetail,dangerouslySetInnerHTML:{__html:JSON.stringify(error,null,4)}}))};Error.displayName="Error";try{Error.displayName="Error",Error.__docgenInfo={description:"",displayName:"Error",props:{error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"Error"}},type:{defaultValue:{value:"network"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"network"'},{value:'"server"'},{value:'"not_found"'}]}},message:{defaultValue:null,description:"",name:"message",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Error/index.tsx#Error"]={docgenInfo:Error.__docgenInfo,name:"Error",path:"src/components/Error/index.tsx#Error"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/GQL/error.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{UX:()=>getErrorCodes,o:()=>QueryError,sd:()=>toastMutationErrors});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-intl/lib/src/components/message.js"),_common_enums__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/common/enums/errorCode.ts"),_common_enums__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/common/enums/events.ts"),_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Toast/index.tsx"),_components__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Error/index.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,getErrorCodes=function getErrorCodes(error){var errorCodes=[];return error&&error.graphQLErrors?(error.graphQLErrors.forEach((function(e){var _e$extensions,code=null===(_e$extensions=e.extensions)||void 0===_e$extensions?void 0:_e$extensions.code;code&&errorCodes.push(code)})),errorCodes):errorCodes},toastMutationErrors=function toastMutationErrors(error,options){var _ref=options||{},showToast=_ref.showToast,showLoginToast=_ref.showLoginToast,_ref$toastType=_ref.toastType,toastType=void 0===_ref$toastType?"error":_ref$toastType,customErrors=_ref.customErrors;if(showToast=void 0===showToast||showToast,showLoginToast=void 0===showLoginToast||showLoginToast,__webpack_require__.e(8003).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@sentry/browser/esm/index.js")).then((function(Sentry){Sentry.captureException(error)})),"undefined"==typeof window)throw error;var errorCodes=getErrorCodes(error),errorMap={};errorCodes.forEach((function(code){errorMap[code]=!0}));var errorCode=errorCodes[0]||"",customErrorMessage=customErrors?customErrors[errorCode]:"",errorMessage=_common_enums__WEBPACK_IMPORTED_MODULE_1__.R[errorCode];if(!customErrorMessage&&!errorMessage)throw error;var isUnauthenticated=errorMap[_common_enums__WEBPACK_IMPORTED_MODULE_1__.O.UNAUTHENTICATED],isForbidden=errorMap[_common_enums__WEBPACK_IMPORTED_MODULE_1__.O.FORBIDDEN],isTokenInvalid=errorMap[_common_enums__WEBPACK_IMPORTED_MODULE_1__.O.TOKEN_INVALID];if(showLoginToast&&(isUnauthenticated||isForbidden||isTokenInvalid))throw _components__WEBPACK_IMPORTED_MODULE_2__.A[toastType]({message:customErrorMessage||__jsx(react_intl__WEBPACK_IMPORTED_MODULE_3__.Z,errorMessage),actions:[{content:__jsx(react_intl__WEBPACK_IMPORTED_MODULE_3__.Z,{defaultMessage:"Log in",id:"skbUBl",description:"src/components/Buttons/Login/index.tsx"}),onClick:function onClick(){window.dispatchEvent(new CustomEvent(_common_enums__WEBPACK_IMPORTED_MODULE_4__.XU)),window.dispatchEvent(new CustomEvent(_common_enums__WEBPACK_IMPORTED_MODULE_4__.Hd,{detail:{trigger:_common_enums__WEBPACK_IMPORTED_MODULE_4__.IW.error}}))}}]}),error;throw showToast&&_components__WEBPACK_IMPORTED_MODULE_2__.A[toastType]({message:customErrorMessage||__jsx(react_intl__WEBPACK_IMPORTED_MODULE_3__.Z,errorMessage)}),error},QueryError=function QueryError(_ref2){var error=_ref2.error;return __webpack_require__.e(8003).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@sentry/browser/esm/index.js")).then((function(Sentry){Sentry.captureException(error)})),__jsx(_components__WEBPACK_IMPORTED_MODULE_5__.j,{type:"network",error})};QueryError.displayName="QueryError";try{getErrorCodes.displayName="getErrorCodes",getErrorCodes.__docgenInfo={description:"",displayName:"getErrorCodes",props:{message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"string"}},graphQLErrors:{defaultValue:null,description:"",name:"graphQLErrors",required:!0,type:{name:"readonly GraphQLError[]"}},networkError:{defaultValue:null,description:"",name:"networkError",required:!0,type:{name:"Error | null"}},extraInfo:{defaultValue:null,description:"",name:"extraInfo",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/GQL/error.tsx#getErrorCodes"]={docgenInfo:getErrorCodes.__docgenInfo,name:"getErrorCodes",path:"src/components/GQL/error.tsx#getErrorCodes"})}catch(__react_docgen_typescript_loader_error){}try{QueryError.displayName="QueryError",QueryError.__docgenInfo={description:"Pass an `useQuery` or `useLazyQuery` error and return `<Error>`",displayName:"QueryError",props:{error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"ApolloError"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/GQL/error.tsx#QueryError"]={docgenInfo:QueryError.__docgenInfo,name:"QueryError",path:"src/components/GQL/error.tsx#QueryError"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/GQL/hooks.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Db:()=>useMutation,GB:()=>usePublicQuery});var _home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),_common_enums__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/common/enums/index.ts"),_error__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/GQL/error.tsx");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var useMutation=function useMutation(mutation,options,customMutationProps){var _baseUseMutation=(0,_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_1__.Db)(mutation,_objectSpread({onError:function onError(error){return(0,_error__WEBPACK_IMPORTED_MODULE_2__.sd)(error,customMutationProps)}},options)),_baseUseMutation2=(0,_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.Z)(_baseUseMutation,2);return[_baseUseMutation2[0],_baseUseMutation2[1]]},usePublicQuery=function usePublicQuery(query,options,customQueryProps){var publicQuery=null==customQueryProps?void 0:customQueryProps.publicQuery;return(0,_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_1__.aM)(query,_objectSpread(_objectSpread({},options),{},{context:(0,_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.Z)({},_common_enums__WEBPACK_IMPORTED_MODULE_4__.i8m,"boolean"!=typeof publicQuery||publicQuery)}))}},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[16].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[16].use[2]!./src/components/Error/styles.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".jrq53W7VwbUuo2a5F0wd {\n  text-align: center;\n}\n\n.Aq_vdcXuxzqZShUH_5QL {\n  max-width: 15rem;\n  max-height: 15rem;\n  margin: 0 auto;\n}\n\n.pgmigf1TxCid_zLaa0dN {\n  margin-top: var(--sp8);\n  font-size: var(--text14);\n  color: var(--color-grey-dark);\n}\n\n.zWJOV2vAlMUYqJkD0KzN {\n  margin-top: var(--sp32);\n}\n\n.s7hdl_OsW8ejmmJWuArQ {\n  padding: var(--sp24);\n  margin-top: var(--sp32);\n  overflow: auto;\n  color: var(--color-negative-red);\n  text-align: left;\n  background: var(--color-yellow-lighter);\n  border: 1px solid var(--color-negative-red);\n  -webkit-overflow-scrolling: touch;\n}\n","",{version:3,sources:["webpack://./src/components/Error/styles.module.css"],names:[],mappings:"AAAA;EACE,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;EAChB,iBAAiB;EACjB,cAAc;AAChB;;AAEA;EACE,sBAAsB;EACtB,wBAAwB;EACxB,6BAA6B;AAC/B;;AAEA;EACE,uBAAuB;AACzB;;AAEA;EACE,oBAAoB;EACpB,uBAAuB;EACvB,cAAc;EACd,gCAAgC;EAChC,gBAAgB;EAChB,uCAAuC;EACvC,2CAA2C;EAC3C,iCAAiC;AACnC",sourcesContent:[".error {\n  text-align: center;\n}\n\n.image {\n  max-width: 15rem;\n  max-height: 15rem;\n  margin: 0 auto;\n}\n\n.errorMessage {\n  margin-top: var(--sp8);\n  font-size: var(--text14);\n  color: var(--color-grey-dark);\n}\n\n.errorRedirect {\n  margin-top: var(--sp32);\n}\n\n.errorDetail {\n  padding: var(--sp24);\n  margin-top: var(--sp32);\n  overflow: auto;\n  color: var(--color-negative-red);\n  text-align: left;\n  background: var(--color-yellow-lighter);\n  border: 1px solid var(--color-negative-red);\n  -webkit-overflow-scrolling: touch;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={error:"jrq53W7VwbUuo2a5F0wd",image:"Aq_vdcXuxzqZShUH_5QL",errorMessage:"pgmigf1TxCid_zLaa0dN",errorRedirect:"zWJOV2vAlMUYqJkD0KzN",errorDetail:"s7hdl_OsW8ejmmJWuArQ"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___}}]);