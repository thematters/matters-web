(self.webpackChunkmatters_web=self.webpackChunkmatters_web||[]).push([[896],{"./src/components/Dialogs/RssFeedDialog/Content.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>RssFeedDialog_Content});var _templateObject,defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),react=__webpack_require__("./node_modules/react/index.js"),react_hooks_esm=__webpack_require__("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),src=__webpack_require__("./node_modules/@ensdomains/content-hash/src/index.js"),src_default=__webpack_require__.n(src),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),lib=__webpack_require__("./node_modules/graphql-tag/lib/index.js"),useIntl=__webpack_require__("./node_modules/react-intl/lib/src/components/useIntl.js"),message=__webpack_require__("./node_modules/react-intl/lib/src/components/message.js"),namehash=__webpack_require__("./node_modules/viem/dist/esm/utils/ens/namehash.js"),dist=__webpack_require__("./node_modules/wagmi/dist/index.js"),externalLinks=__webpack_require__("./src/common/enums/externalLinks.ts"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),chunk_LAFZBYO7=__webpack_require__("./node_modules/@wagmi/core/dist/chunk-LAFZBYO7.js"),chains_dist=__webpack_require__("./node_modules/@wagmi/core/node_modules/@wagmi/chains/dist/index.mjs"),metaMask=__webpack_require__("./node_modules/@wagmi/connectors/dist/metaMask.js"),walletConnect=__webpack_require__("./node_modules/@wagmi/connectors/dist/walletConnect.js"),alchemy=__webpack_require__("./node_modules/@wagmi/core/dist/providers/alchemy.js"),process=__webpack_require__("./node_modules/process/browser.js"),isProd="production"===process.env.NEXT_PUBLIC_RUNTIME_ENV,alchemyId=process.env.NEXT_PUBLIC_ALCHEMY_KEY,featureSupportedChains={curation:isProd?[chains_dist.yu]:[chains_dist.v8],ens:isProd?[chains_dist.RJ]:[chains_dist.ws]},defaultChains=isProd?[chains_dist.RJ,chains_dist.yu]:[chains_dist.ws,chains_dist.v8],_configureChains=(0,chunk_LAFZBYO7.QB)(defaultChains,[(0,alchemy.G)({apiKey:alchemyId})]),publicClient=_configureChains.publicClient,chains=_configureChains.chains,PublicResolverABI=((0,dist._g)({autoConnect:!0,connectors:[new metaMask.i({chains,options:{shimDisconnect:!0,UNSTABLE_shimOnConnectSelectAccount:!0}})].concat((0,toConsumableArray.Z)([new walletConnect.z({chains,options:{projectId:process.env.NEXT_PUBLIC_WALLETCONNECT_ID,showQrModal:!0}})])),publicClient,storage:(0,chunk_LAFZBYO7.o6)({storage:{getItem:function getItem(){return null},setItem:function setItem(){return null},removeItem:function removeItem(){return null}}})}),BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),[{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"hash",type:"bytes"}],name:"setContenthash",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"contenthash",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"ensAddr",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"}]),Dialog=__webpack_require__("./src/components/Dialog/index.tsx"),IconInfo24=__webpack_require__("./src/components/Icon/IconInfo24.tsx"),Spacer=__webpack_require__("./src/components/Spacer/index.tsx"),CopyToClipboard=__webpack_require__("./src/components/CopyToClipboard/index.tsx"),Button=__webpack_require__("./src/components/Button/index.tsx"),IconCopy16=__webpack_require__("./src/components/Icon/IconCopy16.tsx"),TextIcon=__webpack_require__("./src/components/TextIcon/index.tsx"),Spinner=__webpack_require__("./src/components/Spinner/index.tsx"),SectionCard=__webpack_require__("./src/components/Dialogs/FingerprintDialog/SectionCard/index.tsx"),styles_module=__webpack_require__("./src/components/Dialogs/FingerprintDialog/styles.module.css"),__jsx=react.createElement,RSS_GATEWAYS=(0,lib.ZP)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n  query RssGateways {\n    official {\n      gatewayUrls @client\n    }\n  }\n"]))),BaseRssFeedDialogContent=function BaseRssFeedDialogContent(_ref){var user=_ref.user,closeDialog=_ref.closeDialog,_useQuery=(0,react_hooks_esm.aM)(RSS_GATEWAYS),loading=_useQuery.loading,data=_useQuery.data,gateways=(null==data?void 0:data.official.gatewayUrls)||[],ipnsKey=user.info.ipnsKey,targetNetork=featureSupportedChains.ens[0],address=null==user?void 0:user.info.ethAddress,ensName=(0,dist.F6)({address,chainId:targetNetork.id}).data,resolverAddress=(0,dist.qv)({name:ensName,chainId:targetNetork.id}).data,readData=(0,dist.do)({address:resolverAddress,abi:PublicResolverABI,functionName:"contenthash",args:ensName?[(0,namehash.V)(ensName)]:void 0,chainId:targetNetork.id}).data,displayIPNS=!!ipnsKey&&"0x"+src_default().encode("ipns-ns",ipnsKey)===readData?ensName:user.info.ipnsKey,intl=(0,useIntl.Z)();return __jsx(react.Fragment,null,__jsx(Dialog.V.Content,null,__jsx("section",{className:styles_module.Z.container},__jsx(SectionCard.Z,null,ipnsKey?null:__jsx(react.Fragment,null,__jsx("section",{className:styles_module.Z.warningCard},__jsx(IconInfo24.IconInfo24,{size:"md"}),__jsx("p",null,__jsx(message.Z,{defaultMessage:"Adding contents into IPFS network, and it usually takes some times, please wait. You can accelerate the process by publishing new article.",id:"/3kw6k",description:"src/components/Dialogs/RssFeedDialog/Content.tsx"}))),__jsx(Spacer.L,{size:"loose"})),__jsx("section",{className:styles_module.Z.hash},__jsx("h4",{className:styles_module.Z.title},__jsx(message.Z,{defaultMessage:"IPNS Subscription",id:"Lc/azT",description:"src/components/Dialogs/RssFeedDialog/Content.tsx"})),__jsx("p",{className:styles_module.Z.description},__jsx(message.Z,{defaultMessage:"Add hash from IPFS into compatible reader such as ",id:"HqnUd1",description:"src/components/Dialogs/RssFeedDialog/Content.tsx"}),__jsx("a",{className:"u-link-green",href:externalLinks.L.PLANET,target:"_blank",rel:"noreferrer"},"Planet")),ipnsKey?__jsx("section",{className:styles_module.Z.copy},__jsx("div",{className:styles_module.Z.hash},displayIPNS),__jsx(CopyToClipboard.h,{text:displayIPNS},__jsx(Button.z,{"aria-label":intl.formatMessage({defaultMessage:"Copy Link",id:"u5aHb4"})},__jsx(IconCopy16.IconCopy16,null)))):__jsx(react.Fragment,null,__jsx(Spacer.L,{size:"base"}),__jsx("section",{className:styles_module.Z.warningInput},__jsx(TextIcon.V,{icon:__jsx(IconInfo24.IconInfo24,{size:"md"}),color:"green",size:"mdS"},__jsx(message.Z,{defaultMessage:"Waiting ...",id:"zxlwbc",description:"src/components/Dialogs/RssFeedDialog/Content.tsx"}))))),__jsx(Spacer.L,{size:"base"}),__jsx("hr",null),__jsx(Spacer.L,{size:"base"}),__jsx("section",{className:styles_module.Z.gateways},__jsx("h4",{className:styles_module.Z.title},__jsx(message.Z,{defaultMessage:"RSS Subscription",id:"gMZfHO",description:"src/components/Dialogs/RssFeedDialog/Content.tsx"})),__jsx("p",{className:styles_module.Z.description},__jsx(message.Z,{defaultMessage:"Add any URL in the following list into RSS reader",id:"D2Sw/t",description:"src/components/Dialogs/RssFeedDialog/Content.tsx"})),__jsx("ul",{className:styles_module.Z.gatewayUrls},(!data||loading)&&__jsx(Spinner.$,null),gateways.slice(0,4).map((function(url){var gatewayUrl=url.replace(":hash",displayIPNS).replace("/ipfs/","/ipns/").concat("/rss.xml"),hostname=url.replace(/(https:\/\/|\/ipfs\/|:hash.?)/g,"");return __jsx("li",{key:url},__jsx("span",{className:classnames_default()((0,defineProperty.Z)((0,defineProperty.Z)({},styles_module.Z.gatewayUrl,!0),styles_module.Z.disabled,!ipnsKey))},hostname,__jsx(CopyToClipboard.h,{text:gatewayUrl},__jsx(Button.z,{disabled:!ipnsKey,"aria-label":intl.formatMessage({defaultMessage:"Copy Link",id:"u5aHb4"})},__jsx(IconCopy16.IconCopy16,null)))))}))))))),__jsx(Dialog.V.Footer,{smUpBtns:__jsx(Dialog.V.TextButton,{color:"greyDarker",text:__jsx(message.Z,{defaultMessage:"Close",id:"rbrahO"}),onClick:closeDialog})}))},RssFeedDialogContent=function RssFeedDialogContent(props){return __jsx(BaseRssFeedDialogContent,props)};RssFeedDialogContent.displayName="RssFeedDialogContent";const RssFeedDialog_Content=RssFeedDialogContent;try{Content.displayName="Content",Content.__docgenInfo={description:"",displayName:"Content",props:{user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"AuthorRssFeedFragment"}},refetch:{defaultValue:null,description:"",name:"refetch",required:!0,type:{name:"() => any"}},closeDialog:{defaultValue:null,description:"",name:"closeDialog",required:!0,type:{name:"() => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Dialogs/RssFeedDialog/Content.tsx#Content"]={docgenInfo:Content.__docgenInfo,name:"Content",path:"src/components/Dialogs/RssFeedDialog/Content.tsx#Content"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Icon/IconInfo24.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{IconInfo24:()=>IconInfo24});var _path,_path2,_path3,_path4,react=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var IconInfo24=(0,__webpack_require__("./src/components/Icon/withIcon.tsx").H)((function SvgInfo(props){return react.createElement("svg",_extends({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},props),_path||(_path=react.createElement("path",{d:"M11.6667 18.3333C15.3486 18.3333 18.3333 15.3486 18.3333 11.6667C18.3333 7.98477 15.3486 5 11.6667 5C7.98477 5 5 7.98477 5 11.6667C5 15.3486 7.98477 18.3333 11.6667 18.3333Z",stroke:"currentColor",strokeWidth:1.25,strokeMiterlimit:10})),_path2||(_path2=react.createElement("path",{d:"M11.6017 8.76812C11.6017 8.73217 11.6308 8.70302 11.6667 8.70302C11.7027 8.70302 11.7318 8.73217 11.7318 8.76812C11.7318 8.80407 11.7027 8.83322 11.6667 8.83322C11.6308 8.83322 11.6017 8.80407 11.6017 8.76812Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.7967})),_path3||(_path3=react.createElement("path",{d:"M11.6666 15V10.8333H10.8333",stroke:"currentColor",strokeWidth:1.25,strokeMiterlimit:10})),_path4||(_path4=react.createElement("path",{d:"M10.5074 14.8551H12.8262",stroke:"currentColor",strokeWidth:1.25,strokeMiterlimit:10})))}));try{IconInfo24.displayName="IconInfo24",IconInfo24.__docgenInfo={description:"",displayName:"IconInfo24",props:{size:{defaultValue:null,description:"Working Icon description",name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"mdS"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'},{value:'"xxxl"'},{value:'"smS"'},{value:'"xxs"'},{value:'"mdXS"'},{value:'"mdM"'},{value:'"xlM"'},{value:'"xxxlM"'}]}},color:{defaultValue:null,description:"Working Icon description",name:"color",required:!1,type:{name:"enum",value:[{value:'"black"'},{value:'"white"'},{value:'"greyDarker"'},{value:'"green"'},{value:'"greyLighter"'},{value:'"red"'},{value:'"gold"'},{value:'"grey"'},{value:'"greyLight"'},{value:'"greyDark"'},{value:'"whiteLight"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Icon/IconInfo24.tsx#IconInfo24"]={docgenInfo:IconInfo24.__docgenInfo,name:"IconInfo24",path:"src/components/Icon/IconInfo24.tsx#IconInfo24"})}catch(__react_docgen_typescript_loader_error){}},"?25ed":()=>{}}]);