(self.webpackChunkmatters_web=self.webpackChunkmatters_web||[]).push([[9282],{"./node_modules/@babel/runtime/helpers/esm/iterableToArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}__webpack_require__.d(__webpack_exports__,{Z:()=>_iterableToArray})},"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>_toConsumableArray});var arrayLikeToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");var iterableToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/iterableToArray.js"),unsupportedIterableToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return(0,arrayLikeToArray.Z)(arr)}(arr)||(0,iterableToArray.Z)(arr)||(0,unsupportedIterableToArray.Z)(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"./node_modules/fastest-levenshtein/esm/mod.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";new Uint32Array(65536)},"./node_modules/lodash/_basePickBy.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseGet=__webpack_require__("./node_modules/lodash/_baseGet.js"),baseSet=__webpack_require__("./node_modules/lodash/_baseSet.js"),castPath=__webpack_require__("./node_modules/lodash/_castPath.js");module.exports=function basePickBy(object,paths,predicate){for(var index=-1,length=paths.length,result={};++index<length;){var path=paths[index],value=baseGet(object,path);predicate(value,path)&&baseSet(result,castPath(path,object),value)}return result}},"./node_modules/lodash/_baseSet.js":(module,__unused_webpack_exports,__webpack_require__)=>{var assignValue=__webpack_require__("./node_modules/lodash/_assignValue.js"),castPath=__webpack_require__("./node_modules/lodash/_castPath.js"),isIndex=__webpack_require__("./node_modules/lodash/_isIndex.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js"),toKey=__webpack_require__("./node_modules/lodash/_toKey.js");module.exports=function baseSet(object,path,value,customizer){if(!isObject(object))return object;for(var index=-1,length=(path=castPath(path,object)).length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=toKey(path[index]),newValue=value;if("__proto__"===key||"constructor"===key||"prototype"===key)return object;if(index!=lastIndex){var objValue=nested[key];void 0===(newValue=customizer?customizer(objValue,key,nested):void 0)&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})}assignValue(nested,key,newValue),nested=nested[key]}return object}},"./node_modules/lodash/cloneDeep.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseClone=__webpack_require__("./node_modules/lodash/_baseClone.js");module.exports=function cloneDeep(value){return baseClone(value,5)}},"./node_modules/lodash/isEmpty.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseKeys=__webpack_require__("./node_modules/lodash/_baseKeys.js"),getTag=__webpack_require__("./node_modules/lodash/_getTag.js"),isArguments=__webpack_require__("./node_modules/lodash/isArguments.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isArrayLike=__webpack_require__("./node_modules/lodash/isArrayLike.js"),isBuffer=__webpack_require__("./node_modules/lodash/isBuffer.js"),isPrototype=__webpack_require__("./node_modules/lodash/_isPrototype.js"),isTypedArray=__webpack_require__("./node_modules/lodash/isTypedArray.js"),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function isEmpty(value){if(null==value)return!0;if(isArrayLike(value)&&(isArray(value)||"string"==typeof value||"function"==typeof value.splice||isBuffer(value)||isTypedArray(value)||isArguments(value)))return!value.length;var tag=getTag(value);if("[object Map]"==tag||"[object Set]"==tag)return!value.size;if(isPrototype(value))return!baseKeys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0}},"./node_modules/lodash/pickBy.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayMap=__webpack_require__("./node_modules/lodash/_arrayMap.js"),baseIteratee=__webpack_require__("./node_modules/lodash/_baseIteratee.js"),basePickBy=__webpack_require__("./node_modules/lodash/_basePickBy.js"),getAllKeysIn=__webpack_require__("./node_modules/lodash/_getAllKeysIn.js");module.exports=function pickBy(object,predicate){if(null==object)return{};var props=arrayMap(getAllKeysIn(object),(function(prop){return[prop]}));return predicate=baseIteratee(predicate),basePickBy(object,props,(function(value,path){return predicate(value,path[0])}))}},"./node_modules/react-text-truncate/lib/index.js":(module,exports,__webpack_require__)=>{"use strict";var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/prop-types/index.js")],__WEBPACK_AMD_DEFINE_FACTORY__=function(exports,_react,_propTypes){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=_objectWithoutPropertiesLoose(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var PRECISION=1e-4,isEqual=function isEqual(n1,n2){return Math.abs(n1-n2)<PRECISION},TextTruncate=function(_Component){function TextTruncate(){var _getPrototypeOf2,_this;_classCallCheck(this,TextTruncate);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(TextTruncate)).call.apply(_getPrototypeOf2,[this].concat(args)))),"onResize",(function(){_this.rafId&&window.cancelAnimationFrame(_this.rafId),_this.rafId=window.requestAnimationFrame(_this.update.bind(_assertThisInitialized(_this)))})),_defineProperty(_assertThisInitialized(_this),"onToggled",(function(truncated){"function"==typeof _this.props.onToggled&&setTimeout((function(){return _this.props.onToggled(truncated)}),0)})),_defineProperty(_assertThisInitialized(_this),"onTruncated",(function(){"function"==typeof _this.props.onTruncated&&setTimeout((function(){return _this.props.onTruncated()}),0)})),_defineProperty(_assertThisInitialized(_this),"onCalculated",(function(){"function"==typeof _this.props.onCalculated&&setTimeout((function(){return _this.props.onCalculated()}),0)})),_defineProperty(_assertThisInitialized(_this),"update",(function(){var style=window.getComputedStyle(_this.scope),font=[style["font-weight"],style["font-style"],style["font-size"],style["font-family"],style["letter-spacing"]].join(" ");_this.canvas.font=font,_this.forceUpdate()})),_this}return _inherits(TextTruncate,_Component),_createClass(TextTruncate,[{key:"componentDidMount",value:function componentDidMount(){var canvas=document.createElement("canvas"),docFragment=document.createDocumentFragment(),style=window.getComputedStyle(this.scope),font=[style["font-weight"],style["font-style"],style["font-size"],style["font-family"]].join(" ");docFragment.appendChild(canvas),this.canvas=canvas.getContext("2d"),this.canvas.font=font,this.forceUpdate(),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.onResize),this.rafId&&window.cancelAnimationFrame(this.rafId)}},{key:"measureWidth",value:function measureWidth(text){return this.canvas.measureText(text).width}},{key:"getRenderText",value:function getRenderText(){var _this$props=this.props,line=(_this$props.containerClassName,_this$props.element,_this$props.line),text=(_this$props.onCalculated,_this$props.onTruncated,_this$props.onToggled,_this$props.text),textElement=_this$props.textElement,textTruncateChild=_this$props.textTruncateChild,truncateText=_this$props.truncateText,maxCalculateTimes=_this$props.maxCalculateTimes,props=_objectWithoutProperties(_this$props,["containerClassName","element","line","onCalculated","onTruncated","onToggled","text","textElement","textTruncateChild","truncateText","maxCalculateTimes"]),scopeWidth=this.scope.getBoundingClientRect().width;if(0===scopeWidth)return null;var fullTextWidth=this.measureWidth(text);if(scopeWidth>fullTextWidth||isEqual(scopeWidth,fullTextWidth))return this.onToggled(!1),(0,_react.createElement)(textElement,props,text);var childText="";if(textTruncateChild&&"string"==typeof textTruncateChild.type){var type=textTruncateChild.type;(type.indexOf("span")>=0||type.indexOf("a")>=0)&&(childText=textTruncateChild.props.children)}for(var currentPos=1,maxTextLength=text.length,truncatedText="",splitPos=0,startPos=0,displayLine=line,width=0,lastIsEng=!1,isPrevLineWithoutSpace=!1,lastPos=0,lastSpaceIndex=-1,ext="",loopCnt=0;displayLine-- >0;){for(ext=displayLine?"":truncateText+(childText?" "+childText:"");currentPos<=maxTextLength;){if(truncatedText=text.substr(startPos,currentPos),!((width=this.measureWidth(truncatedText+ext))<scopeWidth)){do{if(loopCnt++>=maxCalculateTimes)break;truncatedText=text.substr(startPos,currentPos),displayLine||currentPos--," "===truncatedText[truncatedText.length-1]&&(truncatedText=text.substr(startPos,currentPos-1)),lastIsEng&&(lastSpaceIndex=truncatedText.lastIndexOf(" "))>-1?(currentPos=lastSpaceIndex,displayLine&&currentPos++,truncatedText=text.substr(startPos,currentPos)):(currentPos--,truncatedText=text.substr(startPos,currentPos)),width=this.measureWidth(truncatedText+ext)}while((width>scopeWidth||isEqual(width,scopeWidth))&&truncatedText.length>0);startPos+=currentPos;break}-1===(splitPos=text.indexOf(" ",currentPos+1))?(currentPos+=1,lastIsEng=!1):(lastIsEng=!0,currentPos=splitPos)}if(currentPos>=maxTextLength){startPos=maxTextLength;break}lastIsEng&&!isPrevLineWithoutSpace&&-1===text.substr(lastPos,currentPos).indexOf(" ")&&(isPrevLineWithoutSpace=-1===text.substr(lastPos,currentPos).indexOf(" "),displayLine--),lastPos=currentPos+1}return startPos===maxTextLength?(this.onToggled(!1),(0,_react.createElement)(textElement,props,text)):(this.onTruncated(),this.onToggled(!0),_react2.default.createElement("span",props,(0,_react.createElement)(textElement,props,text.substr(0,startPos)+truncateText+" "),textTruncateChild))}},{key:"render",value:function render(){var _this2=this,_this$props2=this.props,element=_this$props2.element,text=_this$props2.text,_this$props2$style=_this$props2.style,style=void 0===_this$props2$style?{}:_this$props2$style,containerClassName=_this$props2.containerClassName,line=_this$props2.line,textElement=(_this$props2.onCalculated,_this$props2.onTruncated,_this$props2.onToggled,_this$props2.textElement),props=(_this$props2.textTruncateChild,_this$props2.truncateText,_this$props2.maxCalculateTimes,_objectWithoutProperties(_this$props2,["element","text","style","containerClassName","line","onCalculated","onTruncated","onToggled","textElement","textTruncateChild","truncateText","maxCalculateTimes"])),fontWeight=style.fontWeight,fontStyle=style.fontStyle,fontSize=style.fontSize,fontFamily=style.fontFamily,renderText=this.scope&&line?this.getRenderText():(0,_react.createElement)(textElement,props,text),rootProps={ref:function ref(el){_this2.scope=el},className:containerClassName,style:{overflow:"hidden",fontWeight,fontStyle,fontSize,fontFamily}};return this.scope&&this.onCalculated(),(0,_react.createElement)(element,rootProps,renderText)}}]),TextTruncate}(_react.Component);_defineProperty(TextTruncate,"propTypes",{containerClassName:_propTypes2.default.string,element:_propTypes2.default.string,line:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.bool]),onCalculated:_propTypes2.default.func,onTruncated:_propTypes2.default.func,onToggled:_propTypes2.default.func,text:_propTypes2.default.string,textElement:_propTypes2.default.elementType,textTruncateChild:_propTypes2.default.node,truncateText:_propTypes2.default.string,maxCalculateTimes:_propTypes2.default.number}),_defineProperty(TextTruncate,"defaultProps",{element:"div",line:1,text:"",textElement:"span",truncateText:"…",maxCalculateTimes:10}),exports.default=TextTruncate,module.exports=exports.default},void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}}]);