"use strict";(self.webpackChunkmatters_web=self.webpackChunkmatters_web||[]).push([[2351],{"./src/common/enums/test.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>TEST_ID});var TEST_ID=function(TEST_ID){return TEST_ID.LAYOUT_HEADER="layout/header",TEST_ID.DIGEST_ARTICLE_CARD="digest/article/card",TEST_ID.DIGEST_ARTICLE_FEED="digest/article/feed",TEST_ID.DIGEST_ARTICLE_FEED_FOOTER_PIN="digest/article/feed/footer/pin",TEST_ID.DIGEST_ARTICLE_NOTICE="digest/article/notice",TEST_ID.DIGEST_ARTICLE_SIDEBAR="digest/article/sidebar",TEST_ID.DIGEST_ARTICLE_TITLE="digest/article/title",TEST_ID.DIGEST_USER_MINI="digest/user/mini",TEST_ID.DIGEST_USER_MINI_DISPLAY_NAME="digest/user/mini/display-name",TEST_ID.DIGEST_USER_MINI_USER_NAME="digest/user/mini/user-name",TEST_ID.DIGEST_USER_PLAIN="digest/user/plain",TEST_ID.DIGEST_USER_RICH="digest/user/rich",TEST_ID.DIGEST_USER_RICH_DISPLAY_NAME="digest/user/rich/display-name",TEST_ID.DIGEST_USER_VERBOSE="digest/user/verbose",TEST_ID.DIGEST_TAG_FEED="digest/tag/feed",TEST_ID.DIGEST_TAG_RICH="digest/tag/rich",TEST_ID.DIGEST_TAG_SIDEBAR="digest/tag/sidebar",TEST_ID.DIALOG_AUTH="dialog/auth",TEST_ID.SEARCH_RESULTS_ITEM="search/results/item",TEST_ID.DRAFTS_RESPONSE_ALLOW="drafts/response/allow",TEST_ID.DRAFTS_RESPONSE_DISALLOW="drafts/response/disallow",TEST_ID.ARTICLE_SUMMARY="article/summary",TEST_ID.ARTICLE_CONTENT="article/content",TEST_ID.ARTICLE_COLLECTION="article/collection",TEST_ID.ARTICLE_TAGS="article/tags",TEST_ID.ARTICLE_LICENSE="article/license",TEST_ID.ARTICLE_SUPPORT_SUPPORT_BUTTON="article/support/support-button",TEST_ID.ARTICLE_SUPPORT_REQUEST="article/support/request",TEST_ID.ARTICLE_SUPPORT_REPLY="article/support/reply",TEST_ID.ARTICLE_APPRECIATION_TOTAL="article/appreciation/total",TEST_ID.ARTICLE_TOOLBAR="article/toolbar",TEST_ID.ARTICLE_BOOKMARK="article/bookmark",TEST_ID.ARTICLE_COMMENT_FEED="article/comment/feed",TEST_ID.PAY_TO_CURRENCY_CHOICE="payto/currency-choice",TEST_ID.COMMENT_CONETNT="comment/content",TEST_ID.NOTICE_USER_DISPLAY_NAME="notice/user/display-name",TEST_ID.NOTICE_ARTICLE_TITLE="notice/article/title",TEST_ID.NOTICE_COMMENT_CONTENT="notice/comment/content",TEST_ID.NOTICE_PAYMENT_RECEIVE_DONATION_AMOUNT="notice/payment-receive-donation/amount",TEST_ID.NOTICE_USER_NEW_FOLLOWER="notice/user-new-follower",TEST_ID.NOTICE_ARTICLE_NEW_COLLECTED="notice/article-new-collected",TEST_ID.NOTICE_ARTICLE_PUBLISHED="notice/article-published",TEST_ID.NOTICE_ARTICLE_MENTIONED_YOU="notice/article-mentioned-you",TEST_ID.NOTICE_ARTICLE_NEW_SUBSCRIBER="notice/article-new-subscriber",TEST_ID.NOTICE_ARTICLE_NEW_APPRECIATION="notice/article-new-appreciation",TEST_ID.NOTICE_REVISED_ARTICLE_PUBLISHED="notice/revised-article-published",TEST_ID.NOTICE_REVISED_ARTICLE_NOT_PUBLISHED="notice/revised-article-not-published",TEST_ID.NOTICE_CIRCLE_NEW_ARTICLE="notice/circle-new-article",TEST_ID.NOTICE_ARTICLE_TAG_ADDED="notice/article-tag-added",TEST_ID.NOTICE_ARTICLE_TAG_REMOVED="notice/article-tag-removed",TEST_ID.NOTICE_ARTICLE_TAG_UNSELECTED="notice/article-tag-unselected",TEST_ID.NOTICE_COMMENT_NEW_REPLY="notice/comment-new-reply",TEST_ID.NOTICE_COMMENT_MENTIONED_YOU="notice/comment-mentioned-you",TEST_ID.NOTICE_COMMENT_PINNED="notice/comment-pinned",TEST_ID.NOTICE_ARTICLE_NEW_COMMENT="notice/article-new-comment",TEST_ID.NOTICE_SUBSCRIBED_ARTICLE_NEW_COMMENT="notice/subscribed-article-new-comment",TEST_ID.NOTICE_CIRCLE_NEW_BROADCAST="notice/circle-new-broadcast",TEST_ID.NOTICE_TAG_ADOPTION="notice/tag-adoption",TEST_ID.NOTICE_TAG_LEAVE="notice/tag-leave",TEST_ID.NOTICE_TAG_ADD_EDITOR="notice/tag-add-editor",TEST_ID.NOTICE_TAG_LEAVE_EDITOR="notice/tag-leave-editor",TEST_ID.NOTICE_PAYMENT_PAYOUT="notice/payment-payout",TEST_ID.NOTICE_PAYMENT_RECEIVE_DONATION="notice/payment-receive-donation",TEST_ID.NOTICE_CIRCLE_NEW_FOLLOWER="notice/cirlce-new-follower",TEST_ID.NOTICE_CIRCLE_NEW_SUBSCRIBER="notice/cirlce-new-subscriber",TEST_ID.NOTICE_CIRCLE_NEW_UNSUBSCRIBER="notice/cirlce-new-unsubscriber",TEST_ID.NOTICE_CIRCLE_INVITATION="notice/circle-invitation",TEST_ID.NOTICE_CIRCLE_NEW_BROADCAST_COMMENTS="notice/circle-new-broadcast-comments",TEST_ID.NOTICE_CIRCLE_NEW_DISCUSSION_COMMENTS="notice/circle-new-discussion-comments",TEST_ID.NOTICE_CRYPTO_WALLET_AIRDROP="notice/crypto-wallet-airdrop",TEST_ID.NOTICE_CRYPTO_WALLET_CONNECTED="notice/crypto-wallet-connected",TEST_ID.NOTICE_OFFICIAL_ANNOUNCEMENT="notice/official-announcement",TEST_ID.ME_WALLET_TRANSACTIONS_ITEM="me/wallet/transactions/item",TEST_ID.ME_WALLET_TRANSACTIONS_ITEM_AMOUNT="me/wallet/transactions/item/amount",TEST_ID.USER_PROFILE="user-profile",TEST_ID.USER_PROFILE_DISPLAY_NAME="user-profile/display-name",TEST_ID.USER_PROFILE_USER_NAME="user-profile/user-name",TEST_ID.USER_PROFILE_FOLLOWERS_COUNT="user-profile/followers/count",TEST_ID.USER_PROFILE_BIO="user-profile/bio",TEST_ID.EDITOR_SEARCH_SELECT_FORM_DIALOG_ADD_BUTTON="editor/search-select-form/dialog/add-button",TEST_ID.SPINNER="spinner",TEST_ID}({})},"./src/common/utils/route.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Dy:()=>appendTarget,Mx:()=>captureClicks,GF:()=>redirectToTarget,y3:()=>toPath});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js"),defineProperty_default=__webpack_require__.n(defineProperty),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/slicedToArray.js"),slicedToArray_default=__webpack_require__.n(slicedToArray),router=__webpack_require__("./node_modules/next/router.js"),router_default=__webpack_require__.n(router),dist_es2015=__webpack_require__("./node_modules/path-to-regexp/dist.es2015/index.js"),route=__webpack_require__("./src/common/enums/route.ts"),base64=__webpack_require__("./node_modules/js-base64/base64.mjs"),fromGlobalId=function fromGlobalId(globalId){var _Base64$decode$split=base64.DS.decode(globalId).split(":"),_Base64$decode$split2=slicedToArray_default()(_Base64$decode$split,2);return{type:_Base64$decode$split2[0],id:_Base64$decode$split2[1]}},tag=__webpack_require__("./src/common/utils/text/tag.ts"),utils_url=__webpack_require__("./src/common/utils/url.ts"),console=__webpack_require__("./node_modules/console-browserify/index.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var toPath=function toPath(args){switch(args.page){case"articleDetail":var _args$article=args.article,id=_args$article.id,slug=_args$article.slug,mediaHash=_args$article.mediaHash,userName=_args$article.author.userName,pathname="/@".concat(userName,"/").concat(slug,"-").concat(mediaHash);try{if(id){var articleId=fromGlobalId(id).id;pathname="/@".concat(userName,"/").concat(articleId,"-").concat(slug).concat(mediaHash?"-"+mediaHash:"")}}catch(err){console.error("unable to parse global id:",{id},err)}var search="",utm_source=args.utm_source,utm_medium=args.utm_medium;[utm_source,utm_medium].some(Boolean)&&(search="?"+new URLSearchParams([["utm_source",utm_source],["utm_medium",utm_medium]].filter((function(_ref){var _ref2=slicedToArray_default()(_ref,2);_ref2[0];return!!_ref2[1]}))).toString());var hash=args.fragment?"#".concat(args.fragment):"";return{href:"".concat(pathname).concat(search).concat(hash),pathname};case"circleDetail":return{href:"/~".concat(args.circle.name)};case"circleDiscussion":var _hash=args.fragment?"#".concat(args.fragment):"";return{href:"/~".concat(args.circle.name,"/discussion").concat(_hash)};case"circleBroadcast":var _hash2=args.fragment?"#".concat(args.fragment):"";return{href:"/~".concat(args.circle.name,"/broadcast").concat(_hash2)};case"circleSettings":return{href:"/~".concat(args.circle.name,"/settings")};case"circleAnalytics":return{href:"/~".concat(args.circle.name,"/analytics")};case"circleEditProfile":return{href:"/~".concat(args.circle.name,"/settings/edit-profile")};case"circleManageInvitation":return{href:"/~".concat(args.circle.name,"/settings/manage-invitation")};case"commentDetail":var _ref3=args.comment||{},parentComment=_ref3.parentComment,_id=_ref3.id,type=_ref3.type,fragment=null!=parentComment&&parentComment.id?"".concat(parentComment.id,"-").concat(_id):_id;switch(type){case"article":return toPath({page:"articleDetail",article:args.article,fragment});case"circleDiscussion":case"circleBroadcast":return toPath({page:type,circle:args.circle,fragment})}case"draftDetail":return{href:"/me/drafts/".concat(args.slug,"-").concat(args.id)};case"tagDetail":var _args$tag=args.tag,_id2=_args$tag.id,_slug=_args$tag.slug,content=_args$tag.content,numberId=fromGlobalId(_id2).id,_pathname="/tags/".concat(numberId,"-").concat(_slug||(0,tag.hv)(content)),typeStr=args.feedType?"?type=".concat(args.feedType):"";return{href:"".concat(_pathname).concat(typeStr),pathname:_pathname};case"userProfile":return{href:"/@".concat(args.userName)};case"userSubscriptons":return{href:"/@".concat(args.userName,"/subscriptions")};case"userComments":return{href:"/@".concat(args.userName,"/comments")};case"userTags":return{href:"/@".concat(args.userName,"/tags")};case"search":var _typeStr=args.type?"&type=".concat(args.type):"";return{href:"".concat(route.y.SEARCH,"?q=").concat(args.q||"").concat(_typeStr)}}},getTarget=function getTarget(url){var qs=new URL(url||window.location.href).searchParams;return encodeURIComponent(qs.get("target")||"")},getEncodedCurrent=function getEncodedCurrent(){return encodeURIComponent(window.location.href)},redirectToTarget=function redirectToTarget(){var _ref4$fallback=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).fallback,fallbackTarget="homepage"===(void 0===_ref4$fallback?"current":_ref4$fallback)?"/":window.location.href,target=decodeURIComponent(getTarget());/^((http|https):\/\/)/.test(target)||(target=fallbackTarget),window.location.href=target||fallbackTarget},appendTarget=function appendTarget(href,fallbackCurrent){var target="";return"undefined"!=typeof window&&(target=getTarget(),target=fallbackCurrent?getEncodedCurrent():target),target?{href:"".concat(href,"?target=").concat(target)}:{href}},captureClicks=function captureClicks(e){if(!(e.defaultPrevented||e.metaKey||e.ctrlKey||e.shiftKey||0!==e.button)){for(var el=e.target;el&&"A"!==el.nodeName;)el=el.parentNode;if(el&&"#"!==el.getAttribute("href")){var url=(0,utils_url.Lk)(el.href),windowURL=(0,utils_url.Lk)(window.location.href);if(url.protocol===windowURL.protocol&&url.host===windowURL.host){el.blur(),e.preventDefault();var matched={};route.Z.some((function(_ref5){var pathname=_ref5.pathname,keys=[],path=pathname.replace(/\]/g,"").replace(/\[/g,":"),result=(0,dist_es2015.Bo)(path,keys).exec(url.pathname);if(result){var searchQuery=new URLSearchParams(url.search)||{},matchedQuery={};return keys.forEach((function(k,i){return matchedQuery[k.name]=result[i+1]})),matched={pathname,query:_objectSpread(_objectSpread({},searchQuery),matchedQuery)},!0}})),matched&&router_default().push(el.href)}}}}},"./src/common/utils/text/tag.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{hv:()=>slugifyTag,uH:()=>clampTag});__webpack_require__("./node_modules/@babel/runtime/helpers/toArray.js");var _templateObject,_templateObject2,_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_1__),_common_enums__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/common/enums/index.ts"),anyNonAlphaNum=new RegExp(String.raw(_templateObject||(_templateObject=_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_1___default()(["[^p{Letter}p{Number}]+"],["[^\\p{Letter}\\p{Number}]+"]))),"gu"),allLatinLetters=new RegExp(String.raw(_templateObject2||(_templateObject2=_home_runner_work_matters_web_matters_web_node_modules_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_1___default()(["^[s -~p{Script=Latin}]+$"],["^[\\s -~\\p{Script=Latin}]+$"]))),"u"),slugifyTag=function slugifyTag(content){return"".concat(content).replace(anyNonAlphaNum,"-").replace(/(^-+|-+$)/g,"")},clampTag=function clampTag(tagContent){if(allLatinLetters.test(tagContent)){if(tagContent.length>_common_enums__WEBPACK_IMPORTED_MODULE_2__.Sj)return"".concat(tagContent.slice(0,_common_enums__WEBPACK_IMPORTED_MODULE_2__.Sj),"…")}else if(tagContent.length>_common_enums__WEBPACK_IMPORTED_MODULE_2__.YF)return"".concat(tagContent.slice(0,_common_enums__WEBPACK_IMPORTED_MODULE_2__.YF),"…");return tagContent}},"./src/common/utils/url.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Lk:()=>parseURL,_W:()=>toSizedImageURL});var process=__webpack_require__("./node_modules/process/browser.js"),parseURL=function parseURL(url){var parser=document.createElement("a");return parser.href=url,{protocol:parser.protocol,host:parser.host,hostname:parser.hostname,port:parser.port,pathname:parser.pathname,search:parser.search,hash:parser.hash}},toSizedImageURL=function toSizedImageURL(_ref2){var url=_ref2.url,size=_ref2.size,ext=_ref2.ext,assetDomain=process.env.NEXT_PUBLIC_CF_IMAGE_URL?"".concat(process.env.NEXT_PUBLIC_CF_IMAGE_URL):"",urlDomain=assetDomain,isOutsideLink=url.indexOf(assetDomain)<0;if(isOutsideLink&&(urlDomain=process.env.NEXT_PUBLIC_EMBED_ASSET_DOMAIN?"https://".concat(process.env.NEXT_PUBLIC_EMBED_ASSET_DOMAIN):"",isOutsideLink=url.indexOf("".concat(process.env.NEXT_PUBLIC_EMBED_ASSET_DOMAIN))<0),!assetDomain||isOutsideLink)return url;var extedUrl=function changeExt(_ref){var key=_ref.key,ext=_ref.ext,list=key.split("."),hasExt=list.length>1,newExt=ext||list.slice(-1)[0]||"";return hasExt?key.replace(/\.[^.]+$/,".".concat(newExt)):"".concat(key).concat(ext?"."+ext:"")}({key:url.replace(urlDomain,"").replace("/public",""),ext});return assetDomain+extedUrl+"/"+(size||"public")}}}]);